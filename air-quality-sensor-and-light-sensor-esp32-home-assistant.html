<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');d.add('light');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><script id="buymeacoffee" data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="amrutprabhu" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FFDD00" data-position="Right" data-x_margin="18" data-y_margin="18" strategy="afterInteractive" async=""></script><title>How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide | Smart Home Circle</title><meta name="robots" content="follow, index"/><meta name="description" content="In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant"/><meta property="og:url" content="https://smarthomecircle.com/air-quality-sensor-and-light-sensor-esp32-home-assistant"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Smart Home Circle"/><meta property="og:description" content="In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant"/><meta property="og:title" content="How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide"/><meta property="og:image" content="https://smarthomecircle.com/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://twitter.com/smarthomecircle"/><meta name="twitter:title" content="How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide"/><meta name="twitter:description" content="In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant"/><meta name="twitter:image" content="https://smarthomecircle.com/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp"/><meta property="article:published_time" content="2023-08-10T00:00:00.000Z"/><link rel="canonical" href="https://smarthomecircle.com/air-quality-sensor-and-light-sensor-esp32-home-assistant"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://smarthomecircle.com/air-quality-sensor-and-light-sensor-esp32-home-assistant"
  },
  "headline": "How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://smarthomecircle.com/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp"
    }
  ],
  "datePublished": "2023-08-10T00:00:00.000Z",
  "dateModified": "2023-08-10T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Amrut Prabhu"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Amrut Prabhu",
    "logo": {
      "@type": "ImageObject",
      "url": "https://smarthomecircle.com/static/images/favicons/icon.png"
    }
  },
  "description": "In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant"
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/icon.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/0a51e5e9cc3b3f44.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/0a51e5e9cc3b3f44.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-46bc954ffc99d3b0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-813e4218627b5a82.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-80dad2c2b372db2b.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/146-6e5e503440377105.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/573-080a4747a4f57798.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/620-1c301414689a98bf.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-cfbd94dcfd5f5f6d.js" defer="" crossorigin=""></script><script src="/_next/static/qsYZSWBcuh-mXRH4iEWDW/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/qsYZSWBcuh-mXRH4iEWDW/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="antialiased text-black bg-white dark:bg-gray-900 dark:text-white"><div id="__next"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="flex flex-col justify-between h-screen"><header class="flex items-center justify-between py-10"><div><a aria-label="SmartHomeCircle" href="/"><div class="flex items-center justify-between"><div class="mr-3"><img alt="smart home circle" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" style="color:transparent" src="/static/favicons/icon.png"/></div><div class="h-6 text-2xl font-semibold sm:block">Smart Home Circle</div></div></a></div><div class="mt-6"></div><div class="flex items-center text-base leading-5"><div class="hidden sm:flex items-center"><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle" class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100">YouTube</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/posts">Posts</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About &amp; Contact</a><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu"><img alt="Buy Me A Coffee" loading="lazy" width="140" height="20" decoding="async" data-nimg="1" style="color:transparent" src="static/buymeacoffee.png"/></a></div><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="w-8 h-8 py-1 ml-1 mr-1 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed w-full h-full top-24 right-0 bg-gray-200 dark:bg-gray-800 opacity-95 z-10 transform ease-in-out duration-300 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed w-full h-full cursor-auto focus:outline-none"></button><nav class="fixed h-full mt-8"><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle" class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100">YouTube</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/posts">Posts</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About &amp; Contact</a></div><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu"><img alt="Buy Me A Coffee" loading="lazy" width="140" height="20" decoding="async" data-nimg="1" style="color:transparent" src="static/buymeacoffee.png"/></a></div></nav></div></div></div></header><main class="mb-auto"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="fixed flex-col hidden gap-3 right-8 bottom-8 md:flex"><button aria-label="Scroll To Top" type="button" style="opacity:0" class="p-2 text-gray-500 transition-all bg-gray-200 rounded-full dark:text-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 hover:bg-gray-300"><svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-100"><time dateTime="2023-08-10T00:00:00.000Z">Thursday, August 10, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide</h1><div class="mt-6"><div class="max-w-3xl mx-auto"><div class="aspect-w-16 aspect-h-9 relative"><img alt="How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide" loading="lazy" width="544" height="407" decoding="async" data-nimg="1" class="object-cover object-center rounded-2xl" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp"/></div></div></div><div class="text-primary-500 hover:text-primary-600 text-md dark:hover:text-primary-400"><div></div></div><div class="mt-2 text-gray-500 dark:text-gray-100">5 min read</div></div></div></header><div class="pb-8 divide-y divide-gray-200 xl:divide-y-0 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 xl:block sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" loading="lazy" width="38" height="38" decoding="async" data-nimg="1" class="w-10 h-10 rounded-full" style="color:transparent" src="/static/images/avatar-small.jpg"/><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Amrut Prabhu</dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/smarthomecircle" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@smarthomecircle</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:pb-0 xl:col-span-3 xl:row-span-2"><div class="pt-10 pb-8 prose text-lg leading-8 dark:prose-dark max-w-none"><div><div class="xl:px-48 "><div class="relative w-full pt-[56.25%]"><iframe id="youtubeLink12023-08-10T00:00:00.000Z" class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/bwVttXh4Lk4" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><br/></div></div><div></div><div><p>In this article, we will be looking at how we can monitor CO2 (Carbon Dioxide) with SGP30 sensor and add a light sensor BH17450 to Home Assistant.</p>
<details open=""><summary class="pt-2 pb-2 ml-6 text-xl font-bold">Table of Contents</summary><div class="ml-6"><ul><li class="false"><a href="#pre-requisites">Pre-Requisites</a></li><li class="false"><a href="#wiring-diagram-for-sgp30-and-bh1750-with-esp32">Wiring Diagram for SGP30 and BH1750 With ESP32</a></li><li class="false"><a href="#sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32">SGP30 and BH1750 Sensor Configuration In ESPHome For ESP32</a></li><li class="false"><a href="#flashing-the-binary-to-esp32">Flashing the Binary to ESP32</a></li><li class="false"><a href="#viewing-sgp30-and-bh1750-sensor-data-from-esp32-device">Viewing SGP30 and BH1750 Sensor Data From ESP32 Device</a></li><li class="false"><a href="#connecting-sgp30-and-bh1750-sensor-data-to-home-assistant">Connecting SGP30 and BH1750 Sensor Data to Home Assistant</a></li><li class="false"><a href="#wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266">Wiring Diagram for SGP30 and BH1750 With D1 Mini (ESP8266)</a></li><li class="false"><a href="#sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266">SGP30 and BH1750 Sensor Configuration In ESPHome For D1-Mini (ESP8266)</a></li></ul></div></details>
<h2 id="pre-requisites"><a href="#pre-requisites" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Pre-Requisites</h2>
<ol>
<li>You have Home Assistant OS or Home Assistant Container setup.</li>
</ol>
<p>You can check <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/connect-wifi-on-home-assistant-on-startup">this</a> article if you want to set up Home Assistant OS or <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/run-home-assistant-container-with-docker">this</a> article if you want to set up Home Assistant Container.</p>
<ol start="2">
<li>ESPHome setup</li>
</ol>
<p>If you have not setup it up, you can refer to <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/esp32-esp8266-esphome-with-home-assistant">this</a> article to see how you can set this up.</p>
<ol start="3">
<li>An SGP30 sensor and BH1750 sensor</li>
</ol>
<p>You can buy these from these links:</p>
<ul>
<li><a target="_blank" rel="noopener noreferrer" href="https://s.click.aliexpress.com/e/_DDdbOUT">SGP30 Sensor</a></li>
<li><a target="_blank" rel="noopener noreferrer" href="https://s.click.aliexpress.com/e/_DdVXwIJ">BH1750 Sensor</a></li>
</ul>
<h2 id="wiring-diagram-for-sgp30-and-bh1750-with-esp32"><a href="#wiring-diagram-for-sgp30-and-bh1750-with-esp32" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Wiring Diagram for SGP30 and BH1750 With ESP32</h2>
<div><img alt="01-ESP32-wiring-diagram" loading="lazy" width="984" height="686" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/01-ESP32-wiring-diagram.webp"/></div>
<p>The connection for SCL and SDA is a <a target="_blank" rel="noopener noreferrer" href="https://kb.supremainc.com/knowledge/doku.php?id=en:daisy_chain">Daisy Chain</a> connection and not parallel. While the 3.3v and GND is a parallel connections.</p>
<h2 id="sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32"><a href="#sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>SGP30 and BH1750 Sensor Configuration In ESPHome For ESP32</h2>
<p>In ESPHome, click on “New Device” in the right-hand bottom corner. Give it a name and select “ESP32” if your board is ESP32.</p>
<p>Now open the configuration and add the following config at the end of the file.</p>
<div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token key atrule">i2c</span><span class="token punctuation">:</span>  
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> co2_lux_bus  
</span><span class="code-line">    <span class="token key atrule">sda</span><span class="token punctuation">:</span> <span class="token number">32</span>  
</span><span class="code-line">    <span class="token key atrule">scl</span><span class="token punctuation">:</span> <span class="token number">33</span>  
</span><span class="code-line">    <span class="token key atrule">scan</span><span class="token punctuation">:</span> <span class="token boolean important">True</span>  
</span><span class="code-line">  
</span><span class="code-line"><span class="token key atrule">sensor</span><span class="token punctuation">:</span>  
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token key atrule">platform</span><span class="token punctuation">:</span> sgp30  
</span><span class="code-line">    <span class="token key atrule">i2c_id</span><span class="token punctuation">:</span> co2_lux_bus  
</span><span class="code-line">    <span class="token key atrule">eco2</span><span class="token punctuation">:</span>  
</span><span class="code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;CO2 sensor&quot;</span>  
</span><span class="code-line">      <span class="token key atrule">accuracy_decimals</span><span class="token punctuation">:</span> <span class="token number">1</span>  
</span><span class="code-line">    <span class="token key atrule">tvoc</span><span class="token punctuation">:</span>  
</span><span class="code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;TVOC Sensor&quot;</span>  
</span><span class="code-line">      <span class="token key atrule">accuracy_decimals</span><span class="token punctuation">:</span> <span class="token number">1</span>  
</span><span class="code-line">    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token number">0x58</span>  
</span><span class="code-line">    <span class="token key atrule">update_interval</span><span class="token punctuation">:</span> 1s  
</span><span class="code-line">  
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token key atrule">platform</span><span class="token punctuation">:</span> bh1750  
</span><span class="code-line">    <span class="token key atrule">i2c_id</span><span class="token punctuation">:</span> co2_lux_bus  
</span><span class="code-line">    <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;BH1750 Illuminance&quot;</span>  
</span><span class="code-line">    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token number">0x23</span>  
</span><span class="code-line">    <span class="token key atrule">update_interval</span><span class="token punctuation">:</span> 1s
</span></code></pre></div>
<p>Save the config and click “Install” then click “Manual download”, then “Modern Format”</p>
<p>This will now build the config for you.</p>
<p>Once it&#x27;s built, download the “.bin” file.</p>
<h2 id="flashing-the-binary-to-esp32"><a href="#flashing-the-binary-to-esp32" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Flashing the Binary to ESP32</h2>
<p>Open <a target="_blank" rel="noopener noreferrer" href="https://web.esphome.io">https://web.esphome.io</a> and connect your ESP32 to the computer with a USB cable.</p>
<p>Now click on “Connect” and select the USB port from the list.</p>
<p>Once connected, click on “Install” and select the downloaded binary that you downloaded in the previous step.</p>
<p>Since this is an ESP32 device when you see the “Connecting” message, press and hold the “Boot” button until you see the “Erasing” message.</p>
<h2 id="viewing-sgp30-and-bh1750-sensor-data-from-esp32-device"><a href="#viewing-sgp30-and-bh1750-sensor-data-from-esp32-device" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Viewing SGP30 and BH1750 Sensor Data From ESP32 Device</h2>
<p>Once you connect the sensors to the ESP32 and you power up the ESP32, it will connect to your Wifi in a few minutes.</p>
<p>Once it&#x27;s connected, you will have to search for the IP address of the connected device.</p>
<p>You can paste the IP address in the browser and you will be able to see the Sensor data in the WebPage.</p>
<div><img alt="" loading="lazy" width="2226" height="924" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/02-sgp30-bh1750-sensor-data.webp"/></div>
<h2 id="connecting-sgp30-and-bh1750-sensor-data-to-home-assistant"><a href="#connecting-sgp30-and-bh1750-sensor-data-to-home-assistant" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Connecting SGP30 and BH1750 Sensor Data to Home Assistant</h2>
<p>Once you know the IP address of the device connected to your WiFi, go to Home Assistant Ui, click on “Settings” in the left panel, then click on “Devices &amp; Services” and then click on “Add Integration” in the bottom right-hand corner.</p>
<p>Now select ESPHome</p>
<div><img alt="" loading="lazy" width="1410" height="600" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/esphome-ip-address-home-assistant.webp"/></div>
<p>Now, enter the IP address of the device and keep the same port i.e. 6053 and click Submit.</p>
<div><img alt="esp32-encryption-key" loading="lazy" width="1572" height="538" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/esp32-encryption-key.webp"/></div>
<p>When you are asked about the encryption key, you can find the key ESPHome, inside the configuration you created as shown below</p>
<div><img alt="encryptionkey-example" loading="lazy" width="1480" height="386" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/encryptionkey-example.webp"/></div>
<p>That’s it, you have now set up SGP30 Sensor and BH1750 sensor data in Home Assistant.</p>
<p>You can now view the sensor data in the Home Assistant</p>
<div><img alt="sgp30-bh1750-sensor-data-home-assistant" loading="lazy" width="2402" height="798" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/sgp30-bh1750-sensor-data-home-assistant.webp"/></div>
<h2 id="wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266"><a href="#wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Wiring Diagram for SGP30 and BH1750 With D1 Mini (ESP8266)</h2>
<div><img alt="D1-mini-wiring-diagram" loading="lazy" width="843" height="634" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/air-quality-sensor-esp32-home-assistant/D1-mini-wiring-diagram.webp"/></div>
<h2 id="sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266"><a href="#sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>SGP30 and BH1750 Sensor Configuration In ESPHome For D1-Mini (ESP8266)</h2>
<p>Append this configuration to the end of the D1-Mini configuration.</p>
<div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token key atrule">i2c</span><span class="token punctuation">:</span>  
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> co2_lux_bus  
</span><span class="code-line">    <span class="token key atrule">sda</span><span class="token punctuation">:</span> D4  
</span><span class="code-line">    <span class="token key atrule">scl</span><span class="token punctuation">:</span> D7  
</span><span class="code-line">    <span class="token key atrule">scan</span><span class="token punctuation">:</span> <span class="token boolean important">True</span>  
</span><span class="code-line">  
</span><span class="code-line"><span class="token key atrule">sensor</span><span class="token punctuation">:</span>  
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token key atrule">platform</span><span class="token punctuation">:</span> bh1750  
</span><span class="code-line">    <span class="token key atrule">i2c_id</span><span class="token punctuation">:</span> co2_lux_bus  
</span><span class="code-line">    <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;BH1750 Illuminance&quot;</span>  
</span><span class="code-line">    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token number">0x23</span>  
</span><span class="code-line">    <span class="token key atrule">update_interval</span><span class="token punctuation">:</span> 1s  
</span><span class="code-line">      
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token key atrule">platform</span><span class="token punctuation">:</span> sgp30  
</span><span class="code-line">    <span class="token key atrule">i2c_id</span><span class="token punctuation">:</span> co2_lux_bus  
</span><span class="code-line">    <span class="token key atrule">eco2</span><span class="token punctuation">:</span>  
</span><span class="code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;CO2 sensor&quot;</span>  
</span><span class="code-line">      <span class="token key atrule">accuracy_decimals</span><span class="token punctuation">:</span> <span class="token number">1</span>  
</span><span class="code-line">    <span class="token key atrule">tvoc</span><span class="token punctuation">:</span>  
</span><span class="code-line">      <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;TVOC Sensor&quot;</span>  
</span><span class="code-line">      <span class="token key atrule">accuracy_decimals</span><span class="token punctuation">:</span> <span class="token number">1</span>  
</span><span class="code-line">    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token number">0x58</span>  
</span><span class="code-line">    <span class="token key atrule">update_interval</span><span class="token punctuation">:</span> 1s
</span></code></pre></div></div><div><div><br/><button type="button" class="text-white bg-[#3b5998] hover:bg-[#3b5998]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></svg>Share</button><button type="button" class="text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></svg>Tweet</button><button type="button" class="text-white bg-[#0077B5] hover:bg-[#00A0DC]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></svg>Post</button><button type="button" class="text-white bg-[#4285F4] hover:bg-[#4285F4]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="email" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></svg>Share</button></div></div></div><hr/></div><footer><div class="text-sm font-medium leading-5 divide-gray-200 xl:divide-y dark:divide-gray-700 xl:col-start-1 xl:row-start-2"><div class="py-4 xl:py-8"><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/esp32">ESP32</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/d1-mini">D1 Mini</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/co2-sensor">CO2 Sensor</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/sgp30">SGP30</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/bh1750">BH1750</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/home-assistant">Home Assistant</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/esphome">ESPHome</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/add-matter-devices-to-home-assistant">How I Added a Matter Device to Home Assistant - Step By Step Guide</a></div></div><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant">Connect Zigbee Plug Using Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant - Step By Step Guide</a></div></div></div></div><div class="pt-4 xl:pt-8 xl:mb-8 mb-4"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/">← Back to the articles</a></div><div class="hidden xl:block"></div></footer></div></div></article></div></main><footer><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:contactsmarthomecircle@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle"><span class="sr-only">youtube</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.499 6.203a3.008 3.008 0 0 0-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 0 0-2.088 2.09A31.258 31.26 0 0 0 0 12.01a31.258 31.26 0 0 0 .523 5.785 3.008 3.008 0 0 0 2.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 0 0 2.089-2.09 31.258 31.26 0 0 0 .5-5.784 31.258 31.26 0 0 0-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/smarthomecircle"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://bsky.app/profile/smarthomecircle.com"><span class="sr-only">blueSky</span><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"></path></svg></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Amrut Prabhu</div><div> • </div><div>© 2025</div><div> • </div><a href="/">Smart Home Circle</a><div> • </div><a href="/privacy">Privacy Policy</a></div><br/></div></footer></div></div><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div id="cookie-notice" class="consent_consentname__W_12w"><br/><br/><p>By clicking “I Accept”, you agree to the storing of cookies on your device to enhance site navigation and analyze site usage</p><br/><br/><div><a id="cookie-notice-accept" class="consent_greenButton__rKcAp">I Accept</a><a href="/privacy">Privacy Policy</a></div><br/><br/><br/></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var p=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var o=a=\u003et(a,\"__esModule\",{value:!0});var g=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),y=(a,s)=\u003e{o(a);for(var i in s)t(a,i,{get:s[i],enumerable:!0})},b=(a,s,i)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of u(s))!N.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026t(a,n,{get:()=\u003es[n],enumerable:!(i=m(s,n))||i.enumerable});return a},w=a=\u003eb(o(t(a!=null?p(k(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var d=g((_,r)=\u003e{r.exports=_jsx_runtime});var v={};y(v,{default:()=\u003eP,frontmatter:()=\u003ef});var e=w(d()),f={title:\"How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"ESP32\",\"D1 Mini\",\"CO2 Sensor\",\"SGP30\",\"BH1750\",\"Home Assistant\",\"ESPHome\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2023-08-10\",draft:!1,summary:\"In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant\",imageUrl:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/bwVttXh4Lk4\"};function S(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(i,{})})):i();function i(){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",ul:\"ul\",div:\"div\",pre:\"pre\",code:\"code\"},a.components),{TOCInline:l,Image:c}=n;return c||h(\"Image\",!0),l||h(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"In this article, we will be looking at how we can monitor CO2 (Carbon Dioxide) with SGP30 sensor and add a light sensor BH17450 to Home Assistant.\"}),`\n`,(0,e.jsx)(l,{toc:a.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(n.h2,{id:\"pre-requisites\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#pre-requisites\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Pre-Requisites\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"You have Home Assistant OS or Home Assistant Container setup.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"You can check \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/connect-wifi-on-home-assistant-on-startup\",children:\"this\"}),\" article if you want to set up Home Assistant OS or \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/run-home-assistant-container-with-docker\",children:\"this\"}),\" article if you want to set up Home Assistant Container.\"]}),`\n`,(0,e.jsxs)(n.ol,{start:\"2\",children:[`\n`,(0,e.jsx)(n.li,{children:\"ESPHome setup\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If you have not setup it up, you can refer to \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/esp32-esp8266-esphome-with-home-assistant\",children:\"this\"}),\" article to see how you can set this up.\"]}),`\n`,(0,e.jsxs)(n.ol,{start:\"3\",children:[`\n`,(0,e.jsx)(n.li,{children:\"An SGP30 sensor and BH1750 sensor\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"You can buy these from these links:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DDdbOUT\",children:\"SGP30 Sensor\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DdVXwIJ\",children:\"BH1750 Sensor\"})}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"wiring-diagram-for-sgp30-and-bh1750-with-esp32\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#wiring-diagram-for-sgp30-and-bh1750-with-esp32\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Wiring Diagram for SGP30 and BH1750 With ESP32\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"01-ESP32-wiring-diagram\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/01-ESP32-wiring-diagram.webp\",width:\"984\",height:\"686\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"The connection for SCL and SDA is a \",(0,e.jsx)(n.a,{href:\"https://kb.supremainc.com/knowledge/doku.php?id=en:daisy_chain\",children:\"Daisy Chain\"}),\" connection and not parallel. While the 3.3v and GND is a parallel connections.\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"SGP30 and BH1750 Sensor Configuration In ESPHome For ESP32\"]}),`\n`,(0,e.jsx)(n.p,{children:\"In ESPHome, click on \\u201CNew Device\\u201D in the right-hand bottom corner. Give it a name and select \\u201CESP32\\u201D if your board is ESP32.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now open the configuration and add the following config at the end of the file.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sda\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"32\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scl\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"33\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scan\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"True\"}),`  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sgp30  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"eco2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"CO2 sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"tvoc\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"TVOC Sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x58\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` bh1750  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"BH1750 Illuminance\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x23\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"Save the config and click \\u201CInstall\\u201D then click \\u201CManual download\\u201D, then \\u201CModern Format\\u201D\"}),`\n`,(0,e.jsx)(n.p,{children:\"This will now build the config for you.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Once it's built, download the \\u201C.bin\\u201D file.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"flashing-the-binary-to-esp32\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#flashing-the-binary-to-esp32\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Flashing the Binary to ESP32\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Open \",(0,e.jsx)(n.a,{href:\"https://web.esphome.io\",children:\"https://web.esphome.io\"}),\" and connect your ESP32 to the computer with a USB cable.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Now click on \\u201CConnect\\u201D and select the USB port from the list.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Once connected, click on \\u201CInstall\\u201D and select the downloaded binary that you downloaded in the previous step.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Since this is an ESP32 device when you see the \\u201CConnecting\\u201D message, press and hold the \\u201CBoot\\u201D button until you see the \\u201CErasing\\u201D message.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"viewing-sgp30-and-bh1750-sensor-data-from-esp32-device\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#viewing-sgp30-and-bh1750-sensor-data-from-esp32-device\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Viewing SGP30 and BH1750 Sensor Data From ESP32 Device\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Once you connect the sensors to the ESP32 and you power up the ESP32, it will connect to your Wifi in a few minutes.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Once it's connected, you will have to search for the IP address of the connected device.\"}),`\n`,(0,e.jsx)(n.p,{children:\"You can paste the IP address in the browser and you will be able to see the Sensor data in the WebPage.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/02-sgp30-bh1750-sensor-data.webp\",width:\"2226\",height:\"924\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"connecting-sgp30-and-bh1750-sensor-data-to-home-assistant\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#connecting-sgp30-and-bh1750-sensor-data-to-home-assistant\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Connecting SGP30 and BH1750 Sensor Data to Home Assistant\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Once you know the IP address of the device connected to your WiFi, go to Home Assistant Ui, click on \\u201CSettings\\u201D in the left panel, then click on \\u201CDevices \u0026 Services\\u201D and then click on \\u201CAdd Integration\\u201D in the bottom right-hand corner.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now select ESPHome\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/esphome-ip-address-home-assistant.webp\",width:\"1410\",height:\"600\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Now, enter the IP address of the device and keep the same port i.e. 6053 and click Submit.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"esp32-encryption-key\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/esp32-encryption-key.webp\",width:\"1572\",height:\"538\"})}),`\n`,(0,e.jsx)(n.p,{children:\"When you are asked about the encryption key, you can find the key ESPHome, inside the configuration you created as shown below\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"encryptionkey-example\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/encryptionkey-example.webp\",width:\"1480\",height:\"386\"})}),`\n`,(0,e.jsx)(n.p,{children:\"That\\u2019s it, you have now set up SGP30 Sensor and BH1750 sensor data in Home Assistant.\"}),`\n`,(0,e.jsx)(n.p,{children:\"You can now view the sensor data in the Home Assistant\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"sgp30-bh1750-sensor-data-home-assistant\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/sgp30-bh1750-sensor-data-home-assistant.webp\",width:\"2402\",height:\"798\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Wiring Diagram for SGP30 and BH1750 With D1 Mini (ESP8266)\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"D1-mini-wiring-diagram\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/D1-mini-wiring-diagram.webp\",width:\"843\",height:\"634\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"SGP30 and BH1750 Sensor Configuration In ESPHome For D1-Mini (ESP8266)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Append this configuration to the end of the D1-Mini configuration.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sda\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` D4  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scl\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` D7  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scan\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"True\"}),`  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` bh1750  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"BH1750 Illuminance\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x23\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sgp30  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"eco2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"CO2 sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"tvoc\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"TVOC Sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x58\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s\n`]})]})})]})}}var P=S;function h(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return v;})();\n;return Component;","toc":[{"value":"Pre-Requisites","url":"#pre-requisites","depth":2},{"value":"Wiring Diagram for SGP30 and BH1750 With ESP32","url":"#wiring-diagram-for-sgp30-and-bh1750-with-esp32","depth":2},{"value":"SGP30 and BH1750 Sensor Configuration In ESPHome For ESP32","url":"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32","depth":2},{"value":"Flashing the Binary to ESP32","url":"#flashing-the-binary-to-esp32","depth":2},{"value":"Viewing SGP30 and BH1750 Sensor Data From ESP32 Device","url":"#viewing-sgp30-and-bh1750-sensor-data-from-esp32-device","depth":2},{"value":"Connecting SGP30 and BH1750 Sensor Data to Home Assistant","url":"#connecting-sgp30-and-bh1750-sensor-data-to-home-assistant","depth":2},{"value":"Wiring Diagram for SGP30 and BH1750 With D1 Mini (ESP8266)","url":"#wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266","depth":2},{"value":"SGP30 and BH1750 Sensor Configuration In ESPHome For D1-Mini (ESP8266)","url":"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266","depth":2}],"frontMatter":{"readingTime":{"text":"5 min read","minutes":4.525,"time":271500,"words":905},"slug":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant","fileName":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant.md","title":"How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["ESP32","D1 Mini","CO2 Sensor","SGP30","BH1750","Home Assistant","ESPHome"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-10T00:00:00.000Z","draft":false,"summary":"In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant","imageUrl":"/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp","actualUrl":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant","customUrl":"air-quality-sensor-and-light-sensor-esp32-home-assistant","youtubeLink":"https://www.youtube.com/embed/bwVttXh4Lk4"}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.045,"time":62700,"words":209},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"How I Added a Matter Device to Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["Matter","Home Assistant","Smart Plug"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-03T00:00:00.000Z","draft":false,"summary":"In this article, we will be looking at how we can connect Matter-enabled devices to Home Assistant","imageUrl":"/static/images/2023/add-matter-to-home-assistant/cover.jpg","actualUrl":"2023/add-matter-devices-to-home-assistant","customUrl":"add-matter-devices-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/51LCiq7RhXc","slug":"add-matter-devices-to-home-assistant"},"next":{"title":"Connect Zigbee Plug Using Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["Zigbee","Sonoff Dongle Plus","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-17T00:00:00.000Z","draft":false,"summary":"In this article, we will be looking at how we can connect Zigbee Devices using Sonoff Zigbee 3.0 USB Dongle Plus to Home Assistant.","imageUrl":"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/cover.webp","actualUrl":"2023/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","customUrl":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/DynzcuwaY7s","slug":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"air-quality-sensor-and-light-sensor-esp32-home-assistant"},"buildId":"qsYZSWBcuh-mXRH4iEWDW","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>