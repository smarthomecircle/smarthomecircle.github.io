{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var m=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var t=n=>c(n,\"__esModule\",{value:!0});var g=(n,s)=>()=>(s||n((s={exports:{}}).exports,s),s.exports),b=(n,s)=>{t(n);for(var l in s)c(n,l,{get:s[l],enumerable:!0})},f=(n,s,l)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of u(s))!N.call(n,a)&&a!==\"default\"&&c(n,a,{get:()=>s[a],enumerable:!(l=p(s,a))||l.enumerable});return n},v=n=>f(t(c(n!=null?m(k(n)):{},\"default\",n&&n.__esModule&&\"default\"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var d=g((A,o)=>{o.exports=_jsx_runtime});var M={};b(M,{default:()=>I,frontmatter:()=>x});var e=v(d()),x={title:\"Running an AMD Instinct MI50 on a LattePanda Mu Lite (OCuLink eGPU) for Local LLMs\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"GPU\",\"latte panda\",\"SBC\",\"AI\",\"Vulkan\",\"ollama\",\"llama cpp\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2025-11-13\",draft:!1,autoAds:!0,summary:\"Step-by-step AMD Instinct MI50 eGPU on LattePanda Mu Lite carrier board: Ubuntu 24.04 HWE, ROCm, Vulkan, Ollama & llama.cpp on GPU, PCIe/OCuLink\",imageUrl:\"/static/images/2025/gpu-experiment/cover.webp\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/iXYsRK_gqTA\",suggestedArticles:[{title:\"A palm-size IO board for Raspberry Pi CM5\",url:\"https://smarthomecircle.com/raspberry-pi-cm5-small-io-board-hands-on\"},{title:\"Radxa Cubie A5E Hands-On: The Budget NVMe SBC\",url:\"https://smarthomecircle.com/radxa-cubie-a5e-review-benchmarks-vs-raspberry-pi\"},{title:\"I Built A DIY 10 Inch Server Rack\",url:\"https://smarthomecircle.com/I-built-a-diy-10-inch-server-rack\"}]};function w(n={}){let{wrapper:s}=n.components||{};return s?(0,e.jsx)(s,Object.assign({},n,{children:(0,e.jsx)(l,{})})):l();function l(){let a=Object.assign({p:\"p\",strong:\"strong\",hr:\"hr\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",code:\"code\",em:\"em\",pre:\"pre\",h3:\"h3\",blockquote:\"blockquote\"},n.components),{TOCInline:r,AffiliateLinks:i}=a;return i||h(\"AffiliateLinks\",!0),r||h(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r,{toc:n.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(a.p,{children:[\"I\\u2019ve been tinkering with a \",(0,e.jsx)(a.strong,{children:\"LattePanda Mu Lite\"}),\" and an \",(0,e.jsx)(a.strong,{children:\"AMD Instinct MI50 (16 GB HBM2)\"}),\" in an \",(0,e.jsx)(a.strong,{children:\"eGPU\"}),\" setup over \",(0,e.jsx)(a.strong,{children:\"OCuLink\"}),\". My end-goals: run \",(0,e.jsx)(a.strong,{children:\"Ollama\"}),\" and \",(0,e.jsx)(a.strong,{children:\"llama.cpp\"}),\" with GPU acceleration on \",(0,e.jsx)(a.strong,{children:\"Ubuntu 24.04 LTS\"}),\".\"]}),`\n`,(0,e.jsx)(a.p,{children:\"This is my living log: everything I did, what worked, and the exact commands I used\\u2014warts and all. I\\u2019m writing it as a first\\u2011person guide so you can follow (or avoid) my footsteps.\"}),`\n`,(0,e.jsx)(a.hr,{}),`\n`,(0,e.jsxs)(a.h2,{id:\"hardware--topology-i-used\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#hardware--topology-i-used\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Hardware & Topology I Used\"]}),`\n`,(0,e.jsxs)(a.ul,{children:[`\n`,(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"Host:\"}),\" \",(0,e.jsx)(a.strong,{children:\"LattePanda Mu Lite\"}),\" carrier board, Ubuntu \",(0,e.jsx)(a.strong,{children:\"24.04.1 LTS\"}),\" (kernel was \",(0,e.jsx)(a.code,{children:\"6.14.0-33-generic\"}),\" in my case)\"]}),`\n`]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/latte-panda-mu.webp\",alt:\"vulkan eval\"})}),`\n`,(0,e.jsx)(i,{title:\"Latte Panda Mu Lite Carrier Board\",links:[{store:\"Amazon DE\",url:\"https://amzn.to/4qQevai\"},{store:\"Amazon US\",url:\"https://amzn.to/3WLJS88\"}]}),`\n`,(0,e.jsxs)(a.ul,{children:[`\n`,(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"GPU:\"}),\" AMD \",(0,e.jsx)(a.strong,{children:\"Instinct MI50\"}),\" (gfx906, 16 GB HBM2, passive)\"]}),`\n`]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/amd-instinct-mi50.webp\",alt:\"Amd instinct mi50\"})}),`\n`,(0,e.jsxs)(a.ul,{children:[`\n`,(0,e.jsx)(a.li,{children:(0,e.jsx)(a.strong,{children:\"eGPU + Oculink cable:\"})}),`\n`]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/egpu.jpg\",alt:\"vulkan eval\"})}),`\n`,(0,e.jsx)(i,{title:\"eGPU Mount with Oculink Cable\",links:[{store:\"AliExpress\",url:\"https://s.click.aliexpress.com/e/_c3Gutyd1\"},{store:\"Amazon US\",url:\"https://amzn.to/4nEnY1v\"},{store:\"Amazon DE\",url:\"https://amzn.to/43mrXbU\"}]}),`\n`,(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.strong,{children:\"Connection :\"}),\" Mu Lite \",(0,e.jsx)(a.strong,{children:\"PCIe x4\"}),\" slot \\u2192 \",(0,e.jsx)(a.strong,{children:\"OCuLink\"}),\" host adapter \\u2192 OCuLink cable \\u2192 x16 eGPU riser/backplane \\u2192 \",(0,e.jsx)(a.strong,{children:\"MI50\"})]}),`\n`,(0,e.jsxs)(a.ul,{children:[`\n`,(0,e.jsx)(a.li,{children:(0,e.jsx)(a.strong,{children:\"PCIE 4X to Oculink SFF-8612\"})}),`\n`]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/pcie-adapter.webp\",alt:\"PCIE 4X to Oculink SFF-8612\"})}),`\n`,(0,e.jsx)(i,{title:\"PCIE 4X to Oculink SFF-8612\",links:[{store:\"AliExpress\",url:\"https://s.click.aliexpress.com/e/_c3X4MKnV\"},{store:\"Amazon US\",url:\"https://amzn.to/3JNQL61\"},{store:\"Amazon DE\",url:\"https://amzn.to/49kKVDH\"}]}),`\n`,(0,e.jsxs)(a.ul,{children:[`\n`,(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"Power:\"}),\" 12 V for the carrier (required for the on-board PCIe slot), ATX PSU for the MI50 (2\\xD7 8\\u2011pin), \",(0,e.jsx)(a.em,{children:\"lots\"}),\" of airflow through the passive heatsink\"]}),`\n`]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/full-setup.webp\",alt:\"full setup\"})}),`\n`,(0,e.jsx)(a.hr,{}),`\n`,(0,e.jsxs)(a.h2,{id:\"os-install--first-detection\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#os-install--first-detection\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"OS Install & First Detection\"]}),`\n`,(0,e.jsxs)(a.p,{children:[\"I did a \",(0,e.jsx)(a.strong,{children:\"fresh Ubuntu 24.04.1\"}),\" install to NVMe. After connecting the eGPU chain and powering the GPU first, I booted the Mu and SSH\\u2019d in.\"]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/ubuntu.webp\",alt:\"ubuntu\"})}),`\n`,(0,e.jsx)(a.p,{children:\"Check that the GPU is seen on the bus:\"}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"lspci \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"egrep\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-i\"}),\" \",(0,e.jsx)(a.span,{className:\"token string\",children:\"'amd|ati|vega|instinct'\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" lspci \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"egrep\"}),\" \",(0,e.jsx)(a.span,{className:\"token string\",children:\"'LnkCap|LnkSta'\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# I expect: Speed 8GT/s, Width x4  (PCIe 3.0 x4 over OCuLink)\"}),`\n`]})]})}),`\n`,(0,e.jsx)(a.hr,{}),`\n`,(0,e.jsxs)(a.h2,{id:\"install-the-ubuntu-hwe-kernel-recommended-before-amd-drivers\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#install-the-ubuntu-hwe-kernel-recommended-before-amd-drivers\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Install the Ubuntu HWE kernel (recommended, before AMD drivers)\"]}),`\n`,(0,e.jsxs)(a.p,{children:[\"Before installing the AMD GPU drivers/ROCm stack, I install the Ubuntu 24.04 \",(0,e.jsx)(a.strong,{children:\"HWE kernel\"}),\". This keeps me on the supported kernel stream and ensures the extra kernel modules (like \",(0,e.jsx)(a.strong,{children:\"KFD\"}),\") are available for my running kernel.\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),` update\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-y\"}),` linux-generic-hwe-24.04\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"reboot\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(a.p,{children:[\"If \",(0,e.jsx)(a.code,{children:\"/dev/kfd\"}),\" or other modules are missing on the new kernel, I install the \",(0,e.jsx)(a.strong,{children:\"modules-extra\"}),\" package that matches the \",(0,e.jsx)(a.em,{children:\"running\"}),\" kernel:\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsx)(a.code,{className:\"language-bash code-highlight\",children:(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-y\"}),\" \",(0,e.jsxs)(a.span,{className:\"token string\",children:['\"linux-modules-extra-',(0,e.jsxs)(a.span,{className:\"token variable\",children:[(0,e.jsx)(a.span,{className:\"token variable\",children:\"$(\"}),(0,e.jsx)(a.span,{className:\"token function\",children:\"uname\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-r\"}),(0,e.jsx)(a.span,{className:\"token variable\",children:\")\"})]}),'\"']}),`\n`]})})}),`\n`,(0,e.jsxs)(a.h2,{id:\"amd-driver--rocm-what-actually-worked\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#amd-driver--rocm-what-actually-worked\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"AMD Driver + ROCm: What Actually Worked\"]}),`\n`,(0,e.jsxs)(a.p,{children:[\"My goal was to get \",(0,e.jsx)(a.strong,{children:\"ROCm\"}),\" working so apps can use the GPU (\",(0,e.jsx)(a.strong,{children:\"/dev/kfd\"}),\" must exist). Here\\u2019s the exact path that worked for me.\"]}),`\n`,(0,e.jsxs)(a.h3,{id:\"install-the-amd-driver-installer-702-then-rocm\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#install-the-amd-driver-installer-702-then-rocm\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Install the AMD driver installer 7.0.2, then ROCm\"]}),`\n`,(0,e.jsxs)(a.p,{children:[\"I am installed the AMD installer from the AMD \",(0,e.jsx)(a.a,{href:\"https://rocm.docs.amd.com/projects/install-on-linux/en/latest/install/quick-start.html#rocm-install-quick\",children:\"site\"}),\".\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"wget\"}),` https://repo.radeon.com/amdgpu-install/7.0.2/ubuntu/noble/amdgpu-install_7.0.2.70002-1_all.deb\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),` ./amdgpu-install_7.0.2.70002-1_all.deb\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# install ROCm user-space + graphics, but NO DKMS\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" amdgpu-install \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-y\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--usecase\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),`rocm\n`]})]})}),`\n`,(0,e.jsxs)(a.p,{children:[\"I then copied the required files as mentioned in this \",(0,e.jsx)(a.a,{href:\"\",children:\"reddit post\"})]}),`\n`,(0,e.jsx)(a.pre,{children:(0,e.jsxs)(a.code,{className:\"code-highlight\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`1. Download the 6.4 rocblas from here: https://archlinux.org/packages/extra/x86_64/rocblas/\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`2. Extract it \n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`3. Copy all tensor files that contain gfx906 in rocblas-6.4.3-3-x86_64.pkg/opt/rocm/lib/rocblas/library to /opt/rocm/lib/rocblas/library\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`4. sudo reboot\n`})]})}),`\n`,(0,e.jsx)(a.p,{children:(0,e.jsx)(a.em,{children:(0,e.jsx)(a.a,{href:\"https://www.reddit.com/r/linux4noobs/comments/1ly8rq6/comment/nb9uiye/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button\",children:\"source\"})})}),`\n`,(0,e.jsxs)(a.h2,{id:\"ollama-with-amd-rocm\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#ollama-with-amd-rocm\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Ollama with AMD ROCm\"]}),`\n`,(0,e.jsx)(a.p,{children:\"I installed Ollama using the command from the ollama site\"}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"curl\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-fsSL\"}),\" https://ollama.com/install.sh \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"sh\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"#then started the ollama server\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`ollama serve\n`})]})}),`\n`,(0,e.jsxs)(a.blockquote,{children:[`\n`,(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.strong,{children:\"Update:\"}),\"  Ollama dropped support for the \",(0,e.jsx)(a.code,{children:\"gfx906\"}),\" in the \",(0,e.jsx)(a.code,{children:\"0.12.5\"}),\" \",(0,e.jsx)(a.a,{href:\"http://github.com/ollama/ollama/releases/tag/v0.12.5\",children:\"release\"}),\". However there is an \",(0,e.jsx)(a.a,{href:\"https://github.com/ollama/ollama/issues/12600\",children:\"issue\"}),\" created to add back the support for \",(0,e.jsx)(a.code,{children:\"gfx906\"})]}),`\n`]}),`\n`,(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.strong,{children:\"If I run it as a systemd service\"}),\", I make sure the service user has device access:\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# give the 'ollama' user access (if it exists)\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"getent \",(0,e.jsx)(a.span,{className:\"token function\",children:\"passwd\"}),\" ollama \",(0,e.jsx)(a.span,{className:\"token operator\",children:\">\"}),\"/dev/null \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"usermod\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-a\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-G\"}),` render,video ollama\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# ensure the service gets those groups\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"mkdir\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-p\"}),` /etc/systemd/system/ollama.service.d\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token builtin class-name\",children:\"printf\"}),\" \",(0,e.jsx)(a.span,{className:\"token string\",children:`\"[Service]\n`})]}),(0,e.jsx)(a.span,{className:\"code-line\",children:(0,e.jsx)(a.span,{className:\"token string\",children:`SupplementaryGroups=render video\n`})}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token string\",children:'\"'}),\" \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"tee\"}),` /etc/systemd/system/ollama.service.d/rocm.conf\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),` systemctl daemon-reload\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),` systemctl restart ollama\n`]})]})}),`\n`,(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.strong,{children:\"Sanity test\"}),\" (watch the GPU in another shell):\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"amd-smi monitor \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--gpu\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"ollama run llama3.1:8b \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--verbose\"}),`\n`]})]})}),`\n`,(0,e.jsx)(a.hr,{}),`\n`,(0,e.jsxs)(a.h2,{id:\"building-llamacpp-for-amd-rocm-hip\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#building-llamacpp-for-amd-rocm-hip\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Building llama.cpp for AMD ROCm (HIP)\"]}),`\n`,(0,e.jsx)(a.p,{children:\"The supported flagset has changed over time. What worked reliably for me:\"}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),` update\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-y\"}),` build-essential cmake ninja-build pkg-config libcurl4-openssl-dev\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"git\"}),` clone https://github.com/ggml-org/llama.cpp.git\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# from the repo root:\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token builtin class-name\",children:\"cd\"}),` ~/llama.cpp\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"rm\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-rf\"}),` build\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# Configure for ROCm/HIP; target MI50's gfx906\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token assign-left variable\",children:\"HIPCXX\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,e.jsxs)(a.span,{className:\"token string\",children:['\"',(0,e.jsxs)(a.span,{className:\"token variable\",children:[(0,e.jsx)(a.span,{className:\"token variable\",children:\"$(\"}),\"hipconfig \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-l\"}),(0,e.jsx)(a.span,{className:\"token variable\",children:\")\"})]}),'/clang\"']}),\" \",(0,e.jsx)(a.span,{className:\"token assign-left variable\",children:\"HIP_PATH\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,e.jsxs)(a.span,{className:\"token string\",children:['\"',(0,e.jsxs)(a.span,{className:\"token variable\",children:[(0,e.jsx)(a.span,{className:\"token variable\",children:\"$(\"}),\"hipconfig \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-R\"}),(0,e.jsx)(a.span,{className:\"token variable\",children:\")\"})]}),'\"']}),\" cmake \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-S\"}),\" \",(0,e.jsx)(a.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-B\"}),\" build \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-G\"}),\" Ninja   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DGGML_HIP\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\"ON   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DAMDGPU_TARGETS\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\"gfx906   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DCMAKE_BUILD_TYPE\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\"Release   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DLLAMA_CURL\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\"ON   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DCMAKE_PREFIX_PATH\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),`/opt/rocm\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"cmake \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--build\"}),\" build -j\",(0,e.jsxs)(a.span,{className:\"token string\",children:['\"',(0,e.jsxs)(a.span,{className:\"token variable\",children:[(0,e.jsx)(a.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,e.jsx)(a.span,{className:\"token variable\",children:\")\"})]}),'\"']}),`\n`]})]})}),`\n`,(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.strong,{children:\"How I knew it worked:\"}),\" on startup, \",(0,e.jsx)(a.code,{children:\"llama-cli\"}),\" printed something like:\"]}),`\n`,(0,e.jsx)(a.pre,{children:(0,e.jsxs)(a.code,{className:\"code-highlight\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`ggml_cuda_init: found 1 ROCm devices:\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`  Device 0: AMD Instinct MI50/MI60, gfx906:sramecc+:xnack- ...\n`})]})}),`\n`,(0,e.jsx)(a.hr,{}),`\n`,(0,e.jsxs)(a.h2,{id:\"running-a-model-with-llamacpp-on-rocm\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#running-a-model-with-llamacpp-on-rocm\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Running a Model with llama.cpp on ROCm\"]}),`\n`,(0,e.jsxs)(a.p,{children:[\"I used a \",(0,e.jsx)(a.strong,{children:\"Qwen3\\u201114B GGUF\"}),\" from a GGUF repository. I grabbed the new HF CLI and downloaded a \",(0,e.jsx)(a.strong,{children:\"Q4_K_M\"}),\" quant (fits in 16 GB):\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"python3 \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-m\"}),\" pip \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-U\"}),\" \",(0,e.jsx)(a.span,{className:\"token string\",children:'\"huggingface_hub[cli]\"'}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"hf download Qwen/Qwen3-14B-GGUF   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--include\"}),\" \",(0,e.jsx)(a.span,{className:\"token string\",children:'\"Qwen3-14B-Q4_K_M.gguf\"'}),`   --local-dir ~/AI/models\n`]})]})}),`\n`,(0,e.jsx)(a.p,{children:\"Run it:\"}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# make sure compute devices exist (per boot)\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" modprobe amdgpu \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),` modprobe amdkfd\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"ls\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-l\"}),\" /dev/kfd /dev/dri/renderD*    \",(0,e.jsx)(a.span,{className:\"token comment\",children:\"# /dev/kfd must exist\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# watch the GPU in another shell\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"amd-smi monitor \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--gpu\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:'# run with \"offload as many layers as possible\"'}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"./build/bin/llama-cli   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-m\"}),\" ~/AI/models/Qwen3-14B-Q4_K_M.gguf   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-ngl\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"999\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-t\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"4\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-c\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"4096\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-b\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"512\"}),` \n`]})]})}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/roc-eval.webp\",alt:\"rocm eval\"})}),`\n`,(0,e.jsxs)(a.h3,{id:\"token-statistics\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#token-statistics\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Token statistics\"]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/rocm-stats.webp\",alt:\"rocm stats\"})}),`\n`,(0,e.jsx)(a.hr,{}),`\n`,(0,e.jsxs)(a.h2,{id:\"building--running-with-vulkan-no-rocm-needed\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#building--running-with-vulkan-no-rocm-needed\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Building & Running with \",(0,e.jsx)(a.strong,{children:\"Vulkan\"}),\" (No ROCm Needed)\"]}),`\n`,(0,e.jsxs)(a.p,{children:[\"Vulkan is a handy fallback that skips the ROCm/KFD/Atomics fuss. It\\u2019s usually \",(0,e.jsx)(a.strong,{children:\"slower\"}),\" than ROCm on AMD, but it works well and only needs access to \",(0,e.jsx)(a.code,{children:\"/dev/dri/renderD*\"}),\".\"]}),`\n`,(0,e.jsxs)(a.h3,{id:\"install-vulkan-runtime--dev-bits\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#install-vulkan-runtime--dev-bits\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Install Vulkan runtime + dev bits\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),` update\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"apt\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"install\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-y\"}),`   mesa-vulkan-drivers libvulkan1 libvulkan-dev vulkan-tools   glslc libshaderc-dev spirv-tools glslang-tools   build-essential cmake ninja-build pkg-config\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token comment\",children:\"# check the GPU driver is visible to Vulkan\"}),`\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"vulkaninfo \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"egrep\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-i\"}),\" \",(0,e.jsx)(a.span,{className:\"token string\",children:\"'GPU|driverName|apiVersion'\"}),\" \",(0,e.jsx)(a.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(a.span,{className:\"token function\",children:\"head\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(a.h3,{id:\"build-llamacpp-with-vulkan\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#build-llamacpp-with-vulkan\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Build llama.cpp with Vulkan\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token builtin class-name\",children:\"cd\"}),` ~/llama.cpp\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token function\",children:\"rm\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-rf\"}),` build\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"cmake \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-S\"}),\" \",(0,e.jsx)(a.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-B\"}),\" build \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-G\"}),\" Ninja   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DGGML_VULKAN\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\"ON   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-DCMAKE_BUILD_TYPE\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),`Release\n`]}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"cmake \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"--build\"}),\" build -j\",(0,e.jsxs)(a.span,{className:\"token string\",children:['\"',(0,e.jsxs)(a.span,{className:\"token variable\",children:[(0,e.jsx)(a.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,e.jsx)(a.span,{className:\"token variable\",children:\")\"})]}),'\"']}),`\n`]})]})}),`\n`,(0,e.jsx)(a.p,{children:\"On startup you should see:\"}),`\n`,(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:\"code-highlight\",children:(0,e.jsx)(a.span,{className:\"code-line\",children:`ggml_vulkan: Found 1 Vulkan devices: ...\n`})})}),`\n`,(0,e.jsxs)(a.h3,{id:\"run-llama-cli-with-vulkan\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#run-llama-cli-with-vulkan\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Run llama-cli with Vulkan\"]}),`\n`,(0,e.jsx)(a.pre,{className:\"language-bash\",children:(0,e.jsxs)(a.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsx)(a.span,{className:\"token builtin class-name\",children:\"export\"}),\" \",(0,e.jsx)(a.span,{className:\"token assign-left variable\",children:\"GGML_VK_VISIBLE_DEVICES\"}),(0,e.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(a.span,{className:\"token number\",children:\"0\"}),\"  \",(0,e.jsx)(a.span,{className:\"token comment\",children:\"# optional if multiple GPUs\"}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[\"./build/bin/llama-cli   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-m\"}),\" ~/AI/models/Qwen3-14B-Q4_K_M.gguf   \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-ngl\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"999\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-t\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"4\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-c\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"4096\"}),\" \",(0,e.jsx)(a.span,{className:\"token parameter variable\",children:\"-b\"}),\" \",(0,e.jsx)(a.span,{className:\"token number\",children:\"512\"}),` \n`]})]})}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/vulkun-eval.webp\",alt:\"vulkan eval\"})}),`\n`,(0,e.jsxs)(a.h3,{id:\"token-statistics-1\",children:[(0,e.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#token-statistics-1\",children:(0,e.jsx)(a.span,{className:\"icon icon-link\"})}),\"Token statistics\"]}),`\n`,(0,e.jsx)(\"div\",{class:\"image-flex\",children:(0,e.jsx)(\"img\",{src:\"/static/images/2025/gpu-experiment/vulkan-stats.webp\",alt:\"PCIE 4X to Oculink SFF-8612\"})})]})}}var I=w;function h(n,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return M;})();\n;return Component;","toc":[{"value":"Hardware & Topology I Used","url":"#hardware--topology-i-used","depth":2},{"value":"OS Install & First Detection","url":"#os-install--first-detection","depth":2},{"value":"Install the Ubuntu HWE kernel (recommended, before AMD drivers)","url":"#install-the-ubuntu-hwe-kernel-recommended-before-amd-drivers","depth":2},{"value":"AMD Driver + ROCm: What Actually Worked","url":"#amd-driver--rocm-what-actually-worked","depth":2},{"value":"Install the AMD driver installer 7.0.2, then ROCm","url":"#install-the-amd-driver-installer-702-then-rocm","depth":3},{"value":"Ollama with AMD ROCm","url":"#ollama-with-amd-rocm","depth":2},{"value":"Building llama.cpp for AMD ROCm (HIP)","url":"#building-llamacpp-for-amd-rocm-hip","depth":2},{"value":"Running a Model with llama.cpp on ROCm","url":"#running-a-model-with-llamacpp-on-rocm","depth":2},{"value":"Token statistics","url":"#token-statistics","depth":3},{"value":"Building & Running with Vulkan (No ROCm Needed)","url":"#building--running-with-vulkan-no-rocm-needed","depth":2},{"value":"Install Vulkan runtime + dev bits","url":"#install-vulkan-runtime--dev-bits","depth":3},{"value":"Build llama.cpp with Vulkan","url":"#build-llamacpp-with-vulkan","depth":3},{"value":"Run llama-cli with Vulkan","url":"#run-llama-cli-with-vulkan","depth":3},{"value":"Token statistics","url":"#token-statistics","depth":3}],"frontMatter":{"readingTime":{"text":"7 min read","minutes":6.635,"time":398100,"words":1327},"slug":"2025/run-gpu-on-latte-panda-mu-lite-carrier-board","fileName":"2025/run-gpu-on-latte-panda-mu-lite-carrier-board.md","title":"Running an AMD Instinct MI50 on a LattePanda Mu Lite (OCuLink eGPU) for Local LLMs","author":"Amrut Prabhu","categories":"","tags":["GPU","latte panda","SBC","AI","Vulkan","ollama","llama cpp"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2025-11-13T00:00:00.000Z","draft":false,"autoAds":true,"summary":"Step-by-step AMD Instinct MI50 eGPU on LattePanda Mu Lite carrier board: Ubuntu 24.04 HWE, ROCm, Vulkan, Ollama & llama.cpp on GPU, PCIe/OCuLink","imageUrl":"/static/images/2025/gpu-experiment/cover.webp","actualUrl":"2025/run-gpu-on-latte-panda-mu-lite-carrier-board","customUrl":"run-gpu-on-latte-panda-mu-lite-carrier-board","youtubeLink":"https://www.youtube.com/embed/iXYsRK_gqTA","suggestedArticles":[{"title":"A palm-size IO board for Raspberry Pi CM5","url":"https://smarthomecircle.com/raspberry-pi-cm5-small-io-board-hands-on"},{"title":"Radxa Cubie A5E Hands-On: The Budget NVMe SBC","url":"https://smarthomecircle.com/radxa-cubie-a5e-review-benchmarks-vs-raspberry-pi"},{"title":"I Built A DIY 10 Inch Server Rack","url":"https://smarthomecircle.com/I-built-a-diy-10-inch-server-rack"}]}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.045,"time":62700,"words":209},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"My Hands-On with a 7.3″ Color ePaper Display (Seeed Studio reTerminal E1002)","author":"Amrut Prabhu","categories":"","tags":["Dashboard","epaper","ESPHome","Home Assistant","AI"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2025-11-06T00:00:00.000Z","draft":false,"autoAds":true,"summary":"Make a beautiful, low-power status board on a 7.3″ color ePaper. My ESP32-S3 tips, SenseCraft presets, and ESPHome LVGL config notes inside","imageUrl":"/static/images/2025/seeed-reterminal-e1002/cover.webp","actualUrl":"2025/seeed-studio-reterminal-e1002-color-epaper-7-3-review","customUrl":"seeed-studio-reterminal-e1002-color-epaper-7-3-review","youtubeLink":"https://www.youtube.com/embed/Nb-NRA7cv1M","suggestedArticles":[{"title":"Seeed Studio Xiao 7.5 inch ePaper Display + ESPHome","url":"https://smarthomecircle.com/seeed-studio-xiao-epaper-dashboard-home-assistant"},{"title":"Local Voice Assistant with ReSpeaker Lite and Home Assistant","url":"https://smarthomecircle.com/local-voice-assistant-with-seeed-studio-respeaker-lite"},{"title":"Control LED Matrix With Home Assistant Like A Pro","url":"https://smarthomecircle.com/how-to-control-8x32-led-matrix-like-a-pro"}],"slug":"seeed-studio-reterminal-e1002-color-epaper-7-3-review"},"next":null},"__N_SSG":true}