{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var l=e=>c(e,\"__esModule\",{value:!0});var N=(e,s)=>()=>(s||e((s={exports:{}}).exports,s),s.exports),k=(e,s)=>{l(e);for(var t in s)c(e,t,{get:s[t],enumerable:!0})},g=(e,s,t)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of h(s))!m.call(e,a)&&a!==\"default\"&&c(e,a,{get:()=>s[a],enumerable:!(t=p(s,a))||t.enumerable});return e},f=e=>g(l(c(e!=null?d(u(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var r=N((I,o)=>{o.exports=_jsx_runtime});var v={};k(v,{default:()=>y,frontmatter:()=>b});var n=f(r()),b={title:\"Kick Start Spring Boot On AWS Lambda with Snap Start\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Java\",\"Spring Boot\",\"AWS\",\"AWS Lambda\",\"Spring Cloud\",\"Spring Cloud Functions\"],\"photo-credits\":\"https://unsplash.com/photos/NLgqFA9Lg_E\",\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2023-01-26\",draft:!1,summary:\"We will look into how we can create an AWS Lambda with Terraform and run a Spring Boot application to view its performance with the Snap Start option enabled\",imageUrl:\"/static/images/2023/kick-start-spring-boot-on-lambda/cover.jpg\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\"};function w(e={}){let{wrapper:s}=e.components||{};return s?(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(t,{})})):t();function t(){let a=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",code:\"code\",pre:\"pre\",div:\"div\"},e.components),{Image:i}=a;return i||S(\"Image\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h2,{id:\"introduction\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#introduction\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,n.jsx)(a.p,{children:\"Starting any Java application on AWS lambda incurs a significant amount of initialization time because the JVM has to start up and then load the application.\"}),`\n`,(0,n.jsx)(a.p,{children:\"Now, if you want to use frameworks like SpringBoot which has its own initialization time, then the benefit of the Lambda function for executing quickly is lost. Hence AWS brought in a new feature called Snap Start during reinvent 2022 which will reduce these initialization times to very low numbers.\"}),`\n`,(0,n.jsx)(a.p,{children:\"Today we will create a Lambda function using Terraform, deploy a Spring Boot application and look at its cold initialization time with the Snap Start option enabled.\"}),`\n`,(0,n.jsxs)(a.h2,{id:\"how-does-snap-start-option-work\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-does-snap-start-option-work\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"How does Snap Start Option work?\"]}),`\n`,(0,n.jsx)(a.p,{children:\"When the Snap Start option is enabled, the published code is started and after initialization, a snapshot of the memory is taken and cached. This snapshot is then loaded for every fresh invocation of the Lambda function thereby eliminating the time during cold initialization.\"}),`\n`,(0,n.jsx)(a.p,{children:\"Now let\\u2019s create our Spring Boot application to handle the lambda invocation requests.\"}),`\n`,(0,n.jsxs)(a.h2,{id:\"creating-spring-boot-application-with-spring-cloud-function\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-spring-boot-application-with-spring-cloud-function\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Creating Spring Boot Application With Spring Cloud Function\"]}),`\n`,(0,n.jsxs)(a.p,{children:[\"Spring Cloud function provides an AWS adapter which makes writing AWS Lamda handlers easy. We just need to create a \",(0,n.jsx)(a.code,{children:\"java.util.Function\"}),\" as a bean to handle incoming requests and return a response.\"]}),`\n`,(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(a.span,{className:\"token annotation punctuation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Function\"}),(0,n.jsxs)(a.span,{className:\"token generics\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"toUpperCase\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" value \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),\" value\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"toUpperCase\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(a.p,{children:\"Here we define a simple handler bean, which takes a string and returns an upper case of the input string.\"}),`\n`,(0,n.jsxs)(a.p,{children:[\"Now you can define more than one handler function in the code but you will have to specify which function bean will be called during the lambda invocation. You can specify this using the property \",(0,n.jsx)(a.code,{children:\"spring.cloud.function.definition\"}),\" in the application properties file or you can specify the environment variable \",(0,n.jsx)(a.code,{children:\"spring_cloud_function_definition\"}),\"in your Lambda function with the name of the bean you want to invoke.\"]}),`\n`,(0,n.jsxs)(a.p,{children:[\"You can also dynamically call the required function via the API Gateway by providing the header \",(0,n.jsx)(a.code,{children:\"spring.cloud.function.definition\"}),\" with the bean name, you intend to invoke.\"]}),`\n`,(0,n.jsx)(a.p,{children:\"To build the jar that will be uploaded to the Lambda function, we have to create it using a custom build.\"}),`\n`,(0,n.jsxs)(a.p,{children:[\"To do this, we have to add the following configuration to our \",(0,n.jsx)(a.code,{children:\"pom.xml\"}),\" file.\"]}),`\n`,(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"language-xml code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"build\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"plugins\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"   \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"plugin\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-maven-plugin\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependencies\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"     \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot.experimental\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-thin-layout\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"1.0.28.RELEASE\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"     \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependencies\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"   \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"plugin\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"   \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"plugin\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.apache.maven.plugins\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"maven-shade-plugin\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"configuration\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"     \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"createDependencyReducedPom\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"false\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"createDependencyReducedPom\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"     \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"shadedArtifactAttached\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"true\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"shadedArtifactAttached\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"     \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"shadedClassifierName\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"aws\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"shadedClassifierName\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"configuration\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"   \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"plugin\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"plugins\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\" \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"build\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(a.p,{children:[\"When you build your application, you will get a jar with \",(0,n.jsx)(a.code,{children:\"-aws\"}),\" . We need to use this jar in our Lambda function.\"]}),`\n`,(0,n.jsx)(a.p,{children:\"With this, we are ready with our code, now let\\u2019s create our Lambda function using terraform.\"}),`\n`,(0,n.jsxs)(a.h2,{id:\"creating-lambda-using-terraform\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-lambda-using-terraform\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Creating Lambda using Terraform\"]}),`\n`,(0,n.jsx)(a.p,{children:\"To create a Lambda function using Terraform we would have to add the following Lambda function resource.\"}),`\n`,(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"resource \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"aws_lambda_function\"'}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"spring_boot_lambda\"'}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  function_name \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"spring_boot_function\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  role          \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" aws_iam_role\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"lambda_iam_role\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),`arn\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  handler       \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  memory_size   \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"512\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  s3_bucket     \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"test-amrut-123\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  s3_key        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"content_types.zip\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  runtime       \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"java11\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  package_type  \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"Zip\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  timeout       \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"15\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  snap_start \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    apply_on    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"PublishedVersions\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(a.p,{children:\"Here we are using the Spring Cloud function\\u2019s handler function to handle the incoming requests.\"}),`\n`,(0,n.jsxs)(a.p,{children:[\"If you want to create an API Gateway invoking the lambda, you can find the entire code on my GitHub repo \",(0,n.jsx)(a.a,{href:\"https://github.com/amrutprabhu/spring-boot-lambda-snap-start\",children:\"here\"}),\".\"]}),`\n`,(0,n.jsx)(a.p,{children:\"With this, let's look at the cold start of a normal application without the Snap Start option enabled.\"}),`\n`,(0,n.jsx)(a.div,{children:(0,n.jsx)(i,{alt:\"AWS Lambda Normal Execution\",src:\"/static/images/2023/kick-start-spring-boot-on-lambda/normal.png\",width:\"1368\",height:\"1136\"})}),`\n`,(0,n.jsx)(a.p,{children:\"It takes nearly around 4500 ms just for initialization as shown above.\"}),`\n`,(0,n.jsx)(a.p,{children:\"Now let's check the performance with the Snap Start option enabled.\"}),`\n`,(0,n.jsx)(a.div,{children:(0,n.jsx)(i,{alt:\"AWS Lambda with Snap Start\",src:\"/static/images/2023/kick-start-spring-boot-on-lambda/snapstart.png\",width:\"1372\",height:\"1142\"})}),`\n`,(0,n.jsx)(a.p,{children:\"The restoration time, which replaces now the initialization time takes only around 288 ms during a cold start.\"}),`\n`,(0,n.jsxs)(a.h2,{id:\"conclusion\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,n.jsx)(a.p,{children:\"The Snap Start option has made it an even more compelling reason to use Java on AWS Lambda function. With such optimizations in place, Java is still competing very well with other Languages.\"}),`\n`,(0,n.jsxs)(a.p,{children:[\"You can find the entire code on my GitHub repo \",(0,n.jsx)(a.a,{href:\"https://github.com/amrutprabhu/spring-boot-lambda-snap-start\",children:\"here\"}),\".\"]}),`\n`,(0,n.jsxs)(a.p,{children:[\"I keep exploring and learning new things. If you want to know the latest trends and improve your software development skills, then subscribe to my newsletter below and also follow me on \",(0,n.jsx)(a.a,{href:\"https://twitter.com/amrutprabhu42\",children:\"Twitter\"}),\".\"]}),`\n`,(0,n.jsx)(a.p,{children:\"Enjoy!!\"})]})}}var y=w;function S(e,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return v;})();\n;return Component;","toc":[{"value":"Introduction","url":"#introduction","depth":2},{"value":"How does Snap Start Option work?","url":"#how-does-snap-start-option-work","depth":2},{"value":"Creating Spring Boot Application With Spring Cloud Function","url":"#creating-spring-boot-application-with-spring-cloud-function","depth":2},{"value":"Creating Lambda using Terraform","url":"#creating-lambda-using-terraform","depth":2},{"value":"Conclusion","url":"#conclusion","depth":2}],"frontMatter":{"readingTime":{"text":"5 min read","minutes":4.955,"time":297300,"words":991},"slug":"2023/kick-start-spring-boot-application-with-aws-lambda-snap-start","fileName":"2023/kick-start-spring-boot-application-with-aws-lambda-snap-start.md","title":"Kick Start Spring Boot On AWS Lambda with Snap Start","author":"Amrut Prabhu","categories":"","tags":["Java","Spring Boot","AWS","AWS Lambda","Spring Cloud","Spring Cloud Functions"],"photo-credits":"https://unsplash.com/photos/NLgqFA9Lg_E","applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-01-26T00:00:00.000Z","draft":false,"summary":"We will look into how we can create an AWS Lambda with Terraform and run a Spring Boot application to view its performance with the Snap Start option enabled","imageUrl":"/static/images/2023/kick-start-spring-boot-on-lambda/cover.jpg","actualUrl":"2023/kick-start-spring-boot-application-with-aws-lambda-snap-start","customUrl":"kick-start-spring-boot-application-with-aws-lambda-snap-start"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.74,"time":44400,"words":148},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contact@refactorfirst.com","twitter":"https://twitter.com/amrutprabhu42","linkedin":"","github":"","customUrl":"default","actualUrl":"default","date":null}],"prev":null,"next":{"title":"FIDO2 Passwordless Authentication With Keycloak - Part 1","author":"Amrut Prabhu","categories":"","tags":["Keycloak","Passwordless","Authentication","FIDO2"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-04-13T00:00:00.000Z","draft":false,"summary":"In this article we will look into understanding how FIDO2 passwordless authentication works","imageUrl":"/static/images/2023/fido2-authentication-with-keycloak/cover.jpg","actualUrl":"2023/how-does-fido2-passwordless-authentication-work","customUrl":"how-does-fido2-passwordless-authentication-work","slug":"how-does-fido2-passwordless-authentication-work"}},"__N_SSG":true}