{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var h=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var o=a=>t(a,\"__esModule\",{value:!0});var y=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=>{o(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},w=(a,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let n of u(s))!N.call(a,n)&&n!==\"default\"&&t(a,n,{get:()=>s[n],enumerable:!(c=m(s,n))||c.enumerable});return a},f=a=>w(o(t(a!=null?h(k(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var d=y((P,r)=>{r.exports=_jsx_runtime});var v={};g(v,{default:()=>S,frontmatter:()=>_});var e=f(d()),_={title:\"How To Setup On-Device Wake Word Detection For Voice Assistant using Micro Wake Word\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Wake Word\",\"Micro Wake Word\",\"ESP32\",\"Voice Assistant\",\"Home Assistant\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2024-04-04\",draft:!1,summary:\"In this article, we will look at how we can set up an ESP32 S3 with on-device Wake Word detection using MicroWake Word for your Voice Assistant to send commands to Home Assistant\",imageUrl:\"/static/images/2024/on-device-wake-word/cover.webp\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/rT_q0g8dtmY\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",strong:\"strong\",br:\"br\",img:\"img\",ul:\"ul\",div:\"div\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",blockquote:\"blockquote\",pre:\"pre\",code:\"code\"},a.components),{TOCInline:i,Image:l}=n;return l||p(\"Image\",!0),i||p(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"In this article, we will look at how we can set up an ESP32 S3 with on-device Wake Word detection using MicroWake Word for your Voice Assistant to send commands to Home Assistant.\"}),`\n`,(0,e.jsx)(i,{toc:a.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(n.h2,{id:\"requirements\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#requirements\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Requirements\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Home Assistant\"}),\" up and running.\",(0,e.jsx)(n.br,{}),`\n`,\"You can check \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/how-to-connect-wifi-to-home-assistant-on-startup\",children:\"this\"}),\" link to see how you can install it for the first time\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"ESPHome\"}),\" is setup and running\",(0,e.jsx)(n.br,{}),`\n`,\"In case you have not set it up, you can look at it \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/esp32-esp8266-esphome-with-home-assistant\",children:\"here\"}),\".\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"ESP32 S3 N8R2 Dev Board\"}),(0,e.jsx)(n.br,{}),`\n`,`Links to buy this:\n`,(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DFopt57\",children:(0,e.jsx)(n.img,{src:\"/static/images/2024/on-device-wake-word/esp32-s3-n8r2.webp\",alt:\"ESP32 S3 \"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DFopt57\",children:(0,e.jsx)(n.strong,{children:\"AliExpress - ESP32 S3 N8R2 Dev Board\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://amzn.to/3xnA8ax\",children:(0,e.jsx)(n.strong,{children:\"Amazon - ESP32 S3 N8R2 Dev Board\"})})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Guide for ordering ESP32 N8R2 or N16R8 Board is \",(0,e.jsx)(n.a,{href:\"https://docs.espressif.com/projects/esp-idf/en/stable/esp32s3/hw-reference/esp32s3/user-guide-devkitc-1.html#ordering-information\",children:\"here\"})]}),`\n`,(0,e.jsx)(\"br\",{}),`\n`,(0,e.jsxs)(n.ol,{start:\"4\",children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"INMP441 Microphone\"}),(0,e.jsx)(n.br,{}),`\n`,\"Links to buy this:\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_Dmn2PyR\",children:(0,e.jsx)(n.img,{src:\"/static/images/2023/esp32-voice-assistant/inmp441-microphone.webp\",alt:\"INMP441 MICROPHONE\"})})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_Dmn2PyR\",children:(0,e.jsx)(n.strong,{children:\"AliExpress - INMP441 Microphone\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://amzn.to/3GdxO7o\",children:(0,e.jsx)(n.strong,{children:\"Amazon - INMP441 Microphone\"})})}),`\n`]}),`\n`,(0,e.jsx)(\"br\",{}),`\n`,(0,e.jsxs)(n.ol,{start:\"5\",children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"MAX98357A Audio Amplifier\"}),(0,e.jsx)(n.br,{}),`\n`,`Links to buy this:\n`,(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DdyIFTH\",children:(0,e.jsx)(n.img,{src:\"/static/images/2023/esp32-voice-assistant/MAX98357A.webp\",alt:\"MAX98357A\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DdyIFTH\",children:(0,e.jsx)(n.strong,{children:\"AliExpress - MAX98357A\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://amzn.to/46wKTmW\",children:(0,e.jsx)(n.strong,{children:\"Amazon - MAX98357A\"})})}),`\n`]}),`\n`,(0,e.jsx)(\"br\",{}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"3-watt Speakers\"}),\" (Optional: Only required to listen to the pipeline output)\",(0,e.jsx)(n.br,{}),`\n`,\"Links to buy these.\",(0,e.jsx)(n.br,{}),`\n`,(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DBDIScT\",children:(0,e.jsx)(n.img,{src:\"/static/images/2023/esp32-voice-assistant/3-watt-speakers.webp\",alt:\"3 watt speaker\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DBDIScT\",children:(0,e.jsx)(n.strong,{children:\"AliExpress - 3-watt Speakers\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://amzn.to/49BbAJR\",children:(0,e.jsx)(n.strong,{children:\"Amazon - 3-watt Speakers\"})})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"set-up-voice-assist-pipeline\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#set-up-voice-assist-pipeline\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Set Up Voice Assist Pipeline\"]}),`\n`,(0,e.jsx)(n.p,{children:\"To set up voice assistant, we would need two components to create the Voice Assist pipeline in Home Assistant.\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Whisper\"}),\": For speech-to-text\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Piper\"}),\": For text-to-speech\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"Now, following the below video, you have set up these components in Home Assistant using Addons.\"}),`\n`,(0,e.jsx)(\"div\",{className:\"md:w-1/2\",children:(0,e.jsx)(\"iframe\",{id:\"video\",className:\"w-full aspect-video\",src:\"https://www.youtube.com/embed/P4V2JqCmk7M\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:!0})}),`\n`,(0,e.jsx)(n.p,{children:\"You will get to see how to set up the following components that are required\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Whisper\"}),\" Addon\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Piper\"}),\" Addon\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"And finally the entire \",(0,e.jsx)(n.strong,{children:\"Voice Assist\"}),\" pipeline.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"You don't need to set up the Wake Word addon, as we will use the on-device Wake Word detection with the Micro Wake Word framework\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"So make sure to watch it and set up the \",(0,e.jsx)(n.strong,{children:\"Voice Assist\"}),\" pipeline\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Now we will look at how we can prepare our ESP32 S3 with a microphone and 3-watt speakers.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"circuit-diagram-for-esp32-s3-with-inmp441-microphone--max98357a-audio-amplifier\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#circuit-diagram-for-esp32-s3-with-inmp441-microphone--max98357a-audio-amplifier\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Circuit Diagram for ESP32 S3 With INMP441 Microphone & MAX98357A Audio Amplifier\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(l,{alt:\"esp32-wiring-diagram.webp\",src:\"/static/images/2024/on-device-wake-word/esp32-s3-connections.webp\",width:\"1080\",height:\"1160\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Important:\"}),\" You need to connect the 5v pads as shown in the diagram to enable 5v output on the 5v pin.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Here is the pin mapping table\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"ESP32 S3 N8R2 or N16R8\"}),(0,e.jsx)(n.th,{children:\"INMP441 Microphone\"}),(0,e.jsx)(n.th,{children:\"Speaker\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Vin (5v)\"}),(0,e.jsx)(n.td,{}),(0,e.jsx)(n.td,{children:\"Vin\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GND\"}),(0,e.jsx)(n.td,{}),(0,e.jsx)(n.td,{children:\"Gnd\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GPIO 6\"}),(0,e.jsx)(n.td,{}),(0,e.jsx)(n.td,{children:\"LRC\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GPIO 7\"}),(0,e.jsx)(n.td,{}),(0,e.jsx)(n.td,{children:\"BLCK\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GPIO 8\"}),(0,e.jsx)(n.td,{}),(0,e.jsx)(n.td,{children:\"DIN\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GPIO 4\"}),(0,e.jsx)(n.td,{children:\"SD\"}),(0,e.jsx)(n.td,{})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GPIO 3\"}),(0,e.jsx)(n.td,{children:\"WS\"}),(0,e.jsx)(n.td,{})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GPIO 2\"}),(0,e.jsx)(n.td,{children:\"SCK\"}),(0,e.jsx)(n.td,{})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"3v3\"}),(0,e.jsx)(n.td,{children:\"VDD\"}),(0,e.jsx)(n.td,{})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"GND\"}),(0,e.jsx)(n.td,{children:\"GND & L/R\"}),(0,e.jsx)(n.td,{})]})]})]}),`\n`,(0,e.jsx)(n.p,{children:\"Once you have connected the microphone and the audio amplifier, let\\u2019s look at the code we must flash to the ESP32 S3 using ESPHome.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"flashing-code-to-esp32-s3-with-esphome\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#flashing-code-to-esp32-s3-with-esphome\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Flashing Code to ESP32 S3 with ESPHome\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Note\"}),\": I faced problems while flashing the ESP32 S3 from an M series Macbook, so I switched to a Windows system.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"Now, you can follow these steps to flash the code required to make the ESP32 S3 work with the microphone and speakers.\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 1\"}),\": Create a new device in the ESPHome dashboard by clicking on \\u201C\",(0,e.jsx)(n.strong,{children:\"New Device\"}),\"\\u201D in the bottom right-hand corner.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 2:\"}),\" Give it a name e.g. \\u201C\",(0,e.jsx)(n.strong,{children:\"Voice Assistant\"}),\"\\u201D and click \\u201C\",(0,e.jsx)(n.strong,{children:\"Next\"}),\"\\u201D.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 3\"}),\": Now select ESP32 S3 from the options\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(l,{alt:\"1-select-esp32-device.webp\",src:\"/static/images/2024/on-device-wake-word/esphome-select.webp\",width:\"424\",height:\"493\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 4\"}),\": Now, click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Skip\"}),\"\\u201D and open the device card again by clicking on the \\u201C\",(0,e.jsx)(n.strong,{children:\"Edit\"}),\"\\u201D option.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(l,{alt:\"2-edit-device.webp\",src:\"/static/images/2023/esp32-voice-assistant/2-edit-device.webp\",width:\"437\",height:\"173\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 5\"}),\": Place the following YAML code below.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://github.com/BigBobbas/esphome_firmware/blob/main/kahrendt_micro_wake_word/obww_esp32_s3_mic_and_speaker.yaml\",children:\"The original\"}),\" yaml configuration is by \",(0,e.jsx)(n.a,{href:\"https://github.com/BigBobbas/\",children:'\"_bigbobba\"'}),\" from the Home Assistant Discord Channel\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"esphome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" esp32\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"wake\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`word\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"friendly_name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" ESP32\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"S3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"Wake\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`word\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platformio_options\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"board_build.flash_mode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` dio\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_boot\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"blue\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 100%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 60%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"effect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` fast pulse\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"esp32\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"board\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" esp32\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"devkitc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"framework\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" esp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`idf\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sdkconfig_options\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"CONFIG_ESP32S3_DEFAULT_CPU_FREQ_240\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"y\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"CONFIG_ESP32S3_DATA_CACHE_64KB\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"y\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"CONFIG_ESP32S3_DATA_CACHE_LINE_64B\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"y\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"CONFIG_AUDIO_BOARD_CUSTOM\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"y\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`   \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"psram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"mode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" quad  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# quad for N8R2 and octal for N16R8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"speed\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 80MHz\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enable logging\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"logger\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"hardware_uart\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` UART0\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enable Home Assistant API\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"api\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"encryption\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"TFpb+pBAvQIS1MVwaA7EoJ2DkpWE+79UvVro7yMyGdU=\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_client_connected\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"then\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"delay\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 50ms\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_off\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"micro_wake_word.start\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_client_disconnected\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"then\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"voice_assistant.stop\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"ota\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` esphome\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"password\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"1245211a05eef56614a2ef5a3f3e971c\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"wifi\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"ssid\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token tag\",children:\"!secret\"}),` wifi_ssid\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"password\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token tag\",children:\"!secret\"}),` wifi_password\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enable fallback hotspot (captive portal) in case wifi connection fails\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"ap\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"ssid\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Esp32-S3-Wake-Word\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"password\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"LJfUrdJk3svP\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"captive_portal\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"button\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` restart\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Restart\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` but_rest\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"switch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` template\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` mute\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` mute\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"optimistic\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_turn_on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"micro_wake_word.stop\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"voice_assistant.stop\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww           \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"red\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 100%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"green\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"blue\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 60%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"effect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` fast pulse \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"delay\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 2s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_off\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww           \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"red\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 100%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"green\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"blue\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 30%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_turn_off\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"micro_wake_word.start\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww           \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"red\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"green\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 100%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"blue\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 60%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"effect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` fast pulse \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"delay\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 2s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_off\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`   \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` esp32_rmt_led_strip\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"rgb_order\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` GRB\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` GPIO48\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"num_leds\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"chipset\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ws2812\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"on board light\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"effects\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"pulse\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"pulse\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Fast Pulse\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"transition_length\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0.5s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0.5s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"min_brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 0%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"max_brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 100%\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          \n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Audio and Voice Assistant Config          \"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_audio\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` i2s_in\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_lrclk_pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" GPIO3  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#WS \"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_bclk_pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" GPIO2 \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#SCK\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` i2s_speaker\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_lrclk_pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" GPIO6  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#LRC \"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_bclk_pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" GPIO7 \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#BLCK\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"microphone\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` i2s_audio\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` va_mic\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"adc_type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` external\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_din_pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" GPIO4 \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#SD pin on the INMP441\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"channel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` left\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"pdm\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_audio_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` i2s_in\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"bits_per_sample\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 32 bit\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"speaker\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` i2s_audio\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` va_speaker\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_audio_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` i2s_speaker\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"dac_type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` external\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2s_dout_pin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" GPIO8   \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#  DIN Pin of the MAX98357A Audio Amplifier\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"channel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` mono\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"micro_wake_word\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_wake_word_detected\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# then:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"voice_assistant.start\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"wake_word\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token tag\",children:\"!lambda\"}),` return wake_word;\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_on\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww           \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"red\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 30%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"green\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 30%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"blue\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 70%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"brightness\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 60%\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"effect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` fast pulse \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"models\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"model\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` hey_jarvis\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"voice_assistant\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` va\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"microphone\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` va_mic\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"noise_suppression_level\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2.0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"volume_multiplier\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4.0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"speaker\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` va_speaker\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_stt_end\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"then\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_off\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"micro_wake_word.start\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"on_end\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"then\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"light.turn_off\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` led_ww\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"wait_until\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"not\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"voice_assistant.is_running\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"micro_wake_word.start\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Important:\"}),\" You need to set the PSRAM mode to octal or quad depending on the type of the board by referring to \",(0,e.jsx)(n.a,{href:\"https://docs.espressif.com/projects/esp-idf/en/stable/esp32s3/hw-reference/esp32s3/user-guide-devkitc-1.html#ordering-information\",children:\"this\"}),\" link.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 6\"}),\": click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Save\"}),\"\\u201D and then click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Install\"}),\"\\u201D on the top right-hand corner.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 7\"}),\": Now, click on the \\u201C\",(0,e.jsx)(n.strong,{children:\"Manual Download\"}),\"\\u201D option and then choose \\u201C\",(0,e.jsx)(n.strong,{children:\"Modern Format\"}),\"\\u201D.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 8\"}),\": Save the file to your computer.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 9\"}),\": Open \",(0,e.jsx)(n.a,{href:\"https://web.esphome.io\",children:\"https://web.esphome.io\"}),\". in Chrome or Edge browser.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 10\"}),\": Now connect the ESP32 S3 dev Board to the laptop and click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Connect\"}),\"\\u201D and you should get a popup window like this.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(l,{alt:\"3-select-usb.webp\",src:\"/static/images/2023/esp32-voice-assistant/3-select-usb.webp\",width:\"567\",height:\"247\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 11\"}),\": Select the USB serial port for your device and click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Install\"}),\"\\u201D\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 12\"}),\": Now load the file you saved in \",(0,e.jsx)(n.strong,{children:\"Step 8\"}),\" and click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Install\"}),\"\\u201D.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(l,{alt:\"4-erasing.webp\",src:\"/static/images/2023/esp32-voice-assistant/4-erasing.webp\",width:\"314\",height:\"227\"})}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Note:\"}),\" In case the board does not go from connecting to erasing after some time, you can try to put the device into flashing mode. For this, press and hold the \",(0,e.jsx)(n.strong,{children:\"Boot\"}),\" button, then the \",(0,e.jsx)(n.strong,{children:\"Reset\"}),\" button, leave the \",(0,e.jsx)(n.strong,{children:\"Reset\"}),\" button, and then finally leave the \",(0,e.jsx)(n.strong,{children:\"Boot\"}),\" button.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"With this, you have now prepared your ESP32 S3 to start receiving a voice command after detecting the Wake Word.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Next, we will connect it to Home Assistant.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"connecting-esp32-s3-as-voice-assistant-in-home-assistant\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#connecting-esp32-s3-as-voice-assistant-in-home-assistant\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Connecting ESP32 S3 As Voice Assistant In Home Assistant\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Once the ESP32 S3 is flashed with the code in the above section, we will connect it to Home Assistant using the ESPHome Integration.\"}),`\n`,(0,e.jsx)(n.p,{children:\"For this, follow these steps.\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 1\"}),\": Click \\u201C\",(0,e.jsx)(n.strong,{children:\"Settings\"}),\"\\u201D in Home Assistant in the left panel.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 2\"}),\": Click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Devices & Services\"}),\"\\u201D\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Now, if the device is already auto-discovered, you can click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Configure\"}),\"\\u201D and with this, the device is connected to Home Assistant.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"If the device is not auto-discovered, then\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 3\"}),\": Click on \\u201C\",(0,e.jsx)(n.strong,{children:\"Add Integration\"}),\"\\u201D in the bottom right-hand corner.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 4\"}),\": Search for \\u201C\",(0,e.jsx)(n.strong,{children:\"ESPhome\"}),\"\\u201D and click on it.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 5\"}),\": Add the IP address of your ESP32 S3 board that is connected to your WiFi. Keep the port number as \",(0,e.jsx)(n.strong,{children:\"6053\"}),\" and click \\u201C\",(0,e.jsx)(n.strong,{children:\"Submit\"}),\"\\u201D\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(l,{alt:\"5-esp32-connect-home-assistant.webp\",src:\"/static/images/2023/esp32-voice-assistant/5-esp32-connect-home-assistant.webp\",width:\"431\",height:\"320\"})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Step 6\"}),\": If you are asked to enter the encryption key then you can find that in ESPHome under the property \",(0,e.jsx)(n.code,{children:\"api: encryption: key\"}),\". Copy and paste the key in the window.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"With this, you are now done setting up the ESP32 S3 with On-Device Wake Word detection for your Voice Assistant connected to Home Assistant.\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/created-voice-assistant-esp32-with-wake-word-in-home-assistant\",children:(0,e.jsx)(n.strong,{children:\"My Local Voice Assistant Device\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/how-to-connect-led-strip-with-home-assistant-using-wled\",children:(0,e.jsx)(n.strong,{children:\"Control LED Strip with Home Assistant\\u200AUsing WLED\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/add-matter-devices-to-home-assistant\",children:(0,e.jsx)(n.strong,{children:\"How I Added a Matter Device to Home Assistant\"})})}),`\n`]})]})}}var S=b;function p(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return v;})();\n;return Component;","toc":[{"value":"Requirements","url":"#requirements","depth":2},{"value":"Set Up Voice Assist Pipeline","url":"#set-up-voice-assist-pipeline","depth":2},{"value":"Circuit Diagram for ESP32 S3 With INMP441 Microphone & MAX98357A Audio Amplifier","url":"#circuit-diagram-for-esp32-s3-with-inmp441-microphone--max98357a-audio-amplifier","depth":2},{"value":"Flashing Code to ESP32 S3 with ESPHome","url":"#flashing-code-to-esp32-s3-with-esphome","depth":2},{"value":"Connecting ESP32 S3 As Voice Assistant In Home Assistant","url":"#connecting-esp32-s3-as-voice-assistant-in-home-assistant","depth":2}],"frontMatter":{"readingTime":{"text":"11 min read","minutes":10.615,"time":636900,"words":2123},"slug":"2024/How-to-setup-on-device-wake-word-for-voice-assistant-home-assistant","fileName":"2024/How-to-setup-on-device-wake-word-for-voice-assistant-home-assistant.md","title":"How To Setup On-Device Wake Word Detection For Voice Assistant using Micro Wake Word","author":"Amrut Prabhu","categories":"","tags":["Wake Word","Micro Wake Word","ESP32","Voice Assistant","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2024-04-04T00:00:00.000Z","draft":false,"summary":"In this article, we will look at how we can set up an ESP32 S3 with on-device Wake Word detection using MicroWake Word for your Voice Assistant to send commands to Home Assistant","imageUrl":"/static/images/2024/on-device-wake-word/cover.webp","actualUrl":"2024/How-to-setup-on-device-wake-word-for-voice-assistant-home-assistant","customUrl":"How-to-setup-on-device-wake-word-for-voice-assistant-home-assistant","youtubeLink":"https://www.youtube.com/embed/rT_q0g8dtmY"}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.045,"time":62700,"words":209},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"How To Update Bootloader (EEPROM) On The Raspberry Pi","author":"Amrut Prabhu","categories":"","tags":["Raspberry Pi","bootloader","EEPROM"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2024-02-17T00:00:00.000Z","draft":false,"summary":"This article on how you can update the bootloader (EEPROM) on the Raspberry Pi","imageUrl":"/static/images/2024/update-bootloader/cover.jpg","actualUrl":"2024/how-to-update-bootloader-on-raspberrypi","customUrl":"how-to-update-bootloader-on-raspberrypi","youtubeLink":"","slug":"how-to-update-bootloader-on-raspberrypi"},"next":{"title":"How I Created My Voice Assistant With On-Device Wake Word Detection On ESP32 Using Micro Wake Word","author":"Amrut Prabhu","categories":"","tags":["Wake Word","Micro Wake Word","ESP32","Voice Assistant","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2024-05-23T00:00:00.000Z","draft":false,"summary":"In this article, we will look at how I created my Voice Assistant with an ESP32 S3 with on-device Wake Word detection using MicroWake Word to send commands to Home Assistant","imageUrl":"/static/images/2024/created-my-voice-assistant/cover.webp","actualUrl":"2024/How-I-created-my-voice-assistant-with-on-device-wake-word-using-home-assistant","customUrl":"How-I-created-my-voice-assistant-with-on-device-wake-word-using-home-assistant","youtubeLink":"https://www.youtube.com/embed/aPP2alIU7Gg","slug":"How-I-created-my-voice-assistant-with-on-device-wake-word-using-home-assistant"}},"__N_SSG":true}