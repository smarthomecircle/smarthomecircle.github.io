{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var p=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var o=a=>t(a,\"__esModule\",{value:!0});var g=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),y=(a,s)=>{o(a);for(var i in s)t(a,i,{get:s[i],enumerable:!0})},b=(a,s,i)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let n of u(s))!N.call(a,n)&&n!==\"default\"&&t(a,n,{get:()=>s[n],enumerable:!(i=m(s,n))||i.enumerable});return a},w=a=>b(o(t(a!=null?p(k(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var d=g((_,r)=>{r.exports=_jsx_runtime});var v={};y(v,{default:()=>P,frontmatter:()=>f});var e=w(d()),f={title:\"How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"ESP32\",\"D1 Mini\",\"CO2 Sensor\",\"SGP30\",\"BH1750\",\"Home Assistant\",\"ESPHome\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2023-08-10\",draft:!1,autoAds:!0,summary:\"In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant\",imageUrl:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/bwVttXh4Lk4\"};function S(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(i,{})})):i();function i(){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",ul:\"ul\",div:\"div\",pre:\"pre\",code:\"code\"},a.components),{TOCInline:l,Image:c}=n;return c||h(\"Image\",!0),l||h(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"In this article, we will be looking at how we can monitor CO2 (Carbon Dioxide) with SGP30 sensor and add a light sensor BH17450 to Home Assistant.\"}),`\n`,(0,e.jsx)(l,{toc:a.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(n.h2,{id:\"pre-requisites\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#pre-requisites\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Pre-Requisites\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"You have Home Assistant OS or Home Assistant Container setup.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"You can check \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/connect-wifi-on-home-assistant-on-startup\",children:\"this\"}),\" article if you want to set up Home Assistant OS or \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/run-home-assistant-container-with-docker\",children:\"this\"}),\" article if you want to set up Home Assistant Container.\"]}),`\n`,(0,e.jsxs)(n.ol,{start:\"2\",children:[`\n`,(0,e.jsx)(n.li,{children:\"ESPHome setup\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If you have not setup it up, you can refer to \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/esp32-esp8266-esphome-with-home-assistant\",children:\"this\"}),\" article to see how you can set this up.\"]}),`\n`,(0,e.jsxs)(n.ol,{start:\"3\",children:[`\n`,(0,e.jsx)(n.li,{children:\"An SGP30 sensor and BH1750 sensor\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"You can buy these from these links:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DDdbOUT\",children:\"SGP30 Sensor\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DdVXwIJ\",children:\"BH1750 Sensor\"})}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"wiring-diagram-for-sgp30-and-bh1750-with-esp32\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#wiring-diagram-for-sgp30-and-bh1750-with-esp32\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Wiring Diagram for SGP30 and BH1750 With ESP32\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"01-ESP32-wiring-diagram\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/01-ESP32-wiring-diagram.webp\",width:\"984\",height:\"686\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"The connection for SCL and SDA is a \",(0,e.jsx)(n.a,{href:\"https://kb.supremainc.com/knowledge/doku.php?id=en:daisy_chain\",children:\"Daisy Chain\"}),\" connection and not parallel. While the 3.3v and GND is a parallel connections.\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"SGP30 and BH1750 Sensor Configuration In ESPHome For ESP32\"]}),`\n`,(0,e.jsx)(n.p,{children:\"In ESPHome, click on \\u201CNew Device\\u201D in the right-hand bottom corner. Give it a name and select \\u201CESP32\\u201D if your board is ESP32.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now open the configuration and add the following config at the end of the file.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sda\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"32\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scl\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"33\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scan\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"True\"}),`  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sgp30  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"eco2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"CO2 sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"tvoc\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"TVOC Sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x58\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` bh1750  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"BH1750 Illuminance\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x23\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"Save the config and click \\u201CInstall\\u201D then click \\u201CManual download\\u201D, then \\u201CModern Format\\u201D\"}),`\n`,(0,e.jsx)(n.p,{children:\"This will now build the config for you.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Once it's built, download the \\u201C.bin\\u201D file.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"flashing-the-binary-to-esp32\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#flashing-the-binary-to-esp32\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Flashing the Binary to ESP32\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Open \",(0,e.jsx)(n.a,{href:\"https://web.esphome.io\",children:\"https://web.esphome.io\"}),\" and connect your ESP32 to the computer with a USB cable.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Now click on \\u201CConnect\\u201D and select the USB port from the list.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Once connected, click on \\u201CInstall\\u201D and select the downloaded binary that you downloaded in the previous step.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Since this is an ESP32 device when you see the \\u201CConnecting\\u201D message, press and hold the \\u201CBoot\\u201D button until you see the \\u201CErasing\\u201D message.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"viewing-sgp30-and-bh1750-sensor-data-from-esp32-device\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#viewing-sgp30-and-bh1750-sensor-data-from-esp32-device\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Viewing SGP30 and BH1750 Sensor Data From ESP32 Device\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Once you connect the sensors to the ESP32 and you power up the ESP32, it will connect to your Wifi in a few minutes.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Once it's connected, you will have to search for the IP address of the connected device.\"}),`\n`,(0,e.jsx)(n.p,{children:\"You can paste the IP address in the browser and you will be able to see the Sensor data in the WebPage.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/02-sgp30-bh1750-sensor-data.webp\",width:\"2226\",height:\"924\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"connecting-sgp30-and-bh1750-sensor-data-to-home-assistant\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#connecting-sgp30-and-bh1750-sensor-data-to-home-assistant\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Connecting SGP30 and BH1750 Sensor Data to Home Assistant\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Once you know the IP address of the device connected to your WiFi, go to Home Assistant Ui, click on \\u201CSettings\\u201D in the left panel, then click on \\u201CDevices & Services\\u201D and then click on \\u201CAdd Integration\\u201D in the bottom right-hand corner.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now select ESPHome\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/esphome-ip-address-home-assistant.webp\",width:\"1410\",height:\"600\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Now, enter the IP address of the device and keep the same port i.e. 6053 and click Submit.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"esp32-encryption-key\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/esp32-encryption-key.webp\",width:\"1572\",height:\"538\"})}),`\n`,(0,e.jsx)(n.p,{children:\"When you are asked about the encryption key, you can find the key ESPHome, inside the configuration you created as shown below\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"encryptionkey-example\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/encryptionkey-example.webp\",width:\"1480\",height:\"386\"})}),`\n`,(0,e.jsx)(n.p,{children:\"That\\u2019s it, you have now set up SGP30 Sensor and BH1750 sensor data in Home Assistant.\"}),`\n`,(0,e.jsx)(n.p,{children:\"You can now view the sensor data in the Home Assistant\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"sgp30-bh1750-sensor-data-home-assistant\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/sgp30-bh1750-sensor-data-home-assistant.webp\",width:\"2402\",height:\"798\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Wiring Diagram for SGP30 and BH1750 With D1 Mini (ESP8266)\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"D1-mini-wiring-diagram\",src:\"/static/images/2023/air-quality-sensor-esp32-home-assistant/D1-mini-wiring-diagram.webp\",width:\"843\",height:\"634\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"SGP30 and BH1750 Sensor Configuration In ESPHome For D1-Mini (ESP8266)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Append this configuration to the end of the D1-Mini configuration.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sda\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` D4  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scl\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` D7  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"scan\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"True\"}),`  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"sensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` bh1750  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"BH1750 Illuminance\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x23\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s  \n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"platform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sgp30  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"i2c_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` co2_lux_bus  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"eco2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"CO2 sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"tvoc\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"TVOC Sensor\"'}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"accuracy_decimals\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x58\"}),`  \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token key atrule\",children:\"update_interval\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 1s\n`]})]})})]})}}var P=S;function h(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return v;})();\n;return Component;","toc":[{"value":"Pre-Requisites","url":"#pre-requisites","depth":2},{"value":"Wiring Diagram for SGP30 and BH1750 With ESP32","url":"#wiring-diagram-for-sgp30-and-bh1750-with-esp32","depth":2},{"value":"SGP30 and BH1750 Sensor Configuration In ESPHome For ESP32","url":"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-esp32","depth":2},{"value":"Flashing the Binary to ESP32","url":"#flashing-the-binary-to-esp32","depth":2},{"value":"Viewing SGP30 and BH1750 Sensor Data From ESP32 Device","url":"#viewing-sgp30-and-bh1750-sensor-data-from-esp32-device","depth":2},{"value":"Connecting SGP30 and BH1750 Sensor Data to Home Assistant","url":"#connecting-sgp30-and-bh1750-sensor-data-to-home-assistant","depth":2},{"value":"Wiring Diagram for SGP30 and BH1750 With D1 Mini (ESP8266)","url":"#wiring-diagram-for-sgp30-and-bh1750-with-d1-mini-esp8266","depth":2},{"value":"SGP30 and BH1750 Sensor Configuration In ESPHome For D1-Mini (ESP8266)","url":"#sgp30-and-bh1750-sensor-configuration-in-esphome-for-d1-mini-esp8266","depth":2}],"frontMatter":{"readingTime":{"text":"5 min read","minutes":4.525,"time":271500,"words":905},"slug":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant","fileName":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant.md","title":"How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["ESP32","D1 Mini","CO2 Sensor","SGP30","BH1750","Home Assistant","ESPHome"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-10T00:00:00.000Z","draft":false,"autoAds":true,"summary":"In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant","imageUrl":"/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.webp","actualUrl":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant","customUrl":"air-quality-sensor-and-light-sensor-esp32-home-assistant","youtubeLink":"https://www.youtube.com/embed/bwVttXh4Lk4"}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.045,"time":62700,"words":209},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"How I Added a Matter Device to Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["Matter","Home Assistant","Smart Plug"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-03T00:00:00.000Z","draft":false,"autoAds":true,"summary":"In this article, we will be looking at how we can connect Matter-enabled devices to Home Assistant","imageUrl":"/static/images/2023/add-matter-to-home-assistant/cover.jpg","actualUrl":"2023/add-matter-devices-to-home-assistant","customUrl":"add-matter-devices-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/51LCiq7RhXc","slug":"add-matter-devices-to-home-assistant"},"next":{"title":"Connect Zigbee Plug Using Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["Zigbee","Sonoff Dongle Plus","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-17T00:00:00.000Z","draft":false,"autoAds":true,"summary":"In this article, we will be looking at how we can connect Zigbee Devices using Sonoff Zigbee 3.0 USB Dongle Plus to Home Assistant.","imageUrl":"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/cover.webp","actualUrl":"2023/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","customUrl":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/DynzcuwaY7s","slug":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant"}},"__N_SSG":true}