{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var m=Object.create;var o=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var l=s=>o(s,\"__esModule\",{value:!0});var b=(s,i)=>()=>(i||s((i={exports:{}}).exports,i),i.exports),k=(s,i)=>{l(s);for(var a in i)o(s,a,{get:i[a],enumerable:!0})},N=(s,i,a)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let n of u(i))!f.call(s,n)&&n!==\"default\"&&o(s,n,{get:()=>i[n],enumerable:!(a=p(i,n))||a.enumerable});return s},v=s=>N(l(o(s!=null?m(g(s)):{},\"default\",s&&s.__esModule&&\"default\"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);var d=b((x,r)=>{r.exports=_jsx_runtime});var A={};k(A,{default:()=>S,frontmatter:()=>w});var e=v(d()),w={title:\"Connect Zigbee Plug Using Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant - Step By Step Guide\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Zigbee\",\"Sonoff Dongle Plus\",\"Home Assistant\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2023-08-17\",draft:!1,summary:\"In this article, we will be looking at how we can connect Zigbee Devices using Sonoff Zigbee 3.0 USB Dongle Plus to Home Assistant.\",imageUrl:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/cover.jpg\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/DynzcuwaY7s\"};function y(s={}){let{wrapper:i}=s.components||{};return i?(0,e.jsx)(i,Object.assign({},s,{children:(0,e.jsx)(a,{})})):a();function a(){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",ul:\"ul\",strong:\"strong\",img:\"img\",div:\"div\",h3:\"h3\",pre:\"pre\",code:\"code\"},s.components),{TOCInline:c,Image:t}=n;return t||h(\"Image\",!0),c||h(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"In this article, we will be looking at how we can connect Zigbee Devices using Sonoff Zigbee 3.0 USB Dongle Plus to Home Assistant.\"}),`\n`,(0,e.jsx)(c,{toc:s.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(n.h2,{id:\"pre-requisites\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#pre-requisites\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Pre-Requisites\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"You have Home Assistant OS or Home Assistant Container setup.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"You can check \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/connect-wifi-on-home-assistant-on-startup\",children:\"this\"}),\" article if you setting up Home Assistant OS for the first time or \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/run-home-assistant-container-with-docker\",children:\"this\"}),\" article if you want to set up Home Assistant Container.\"]}),`\n`,(0,e.jsxs)(n.ol,{start:\"2\",children:[`\n`,(0,e.jsx)(n.li,{children:\"A Zigbee device and Sonoff Zigbee 3.0 USB Dongle Plus\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"You can buy these from these links:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://amzn.to/456Yzp1\",children:(0,e.jsx)(n.strong,{children:\"Sonoff Zigbee 3.0 USB Dongle Plus\"})}),`\n`,(0,e.jsx)(n.a,{href:\"https://amzn.to/456Yzp1\",children:(0,e.jsx)(n.img,{src:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/sonoff-zigbee-3-dongle-plus-image.webp\",alt:\"Sonoff Zigbee 3.0 USB Dongle Plus\"})})]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DchhTXp\",children:(0,e.jsx)(n.strong,{children:\"Zigbee Plug\"})}),`\n`,(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DchhTXp\",children:(0,e.jsx)(n.img,{src:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/zigbee-plug.webp\",alt:\"Zigbee Plug\"})})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"connecting-sonoff-zigbee-30-usb-dongle-plus-to-home-assistant-os\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#connecting-sonoff-zigbee-30-usb-dongle-plus-to-home-assistant-os\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Connecting Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant OS\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Connect the Sonoff Zigbee dongle to the machine's USB port running Home Assistant OS.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Next, in Home Assistant UI, click on \\u201CSettings\\u201D in the left panel and then click on \\u201CDevices & Services\\u201D, then click on \\u201CAdd integration\\u201D on the bottom right-hand corner.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Next, search for \\u201CZigbee Home Automation\\u201D and click on it.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now it will show you the Zigbee dongle you just connected and then select to create a new network.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(t,{alt:\"sonoff-zigbee-3-dongle-plus\",src:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/sonoff-zigbee-3-dongle-plus.webp\",width:\"1572\",height:\"1002\"})}),`\n`,(0,e.jsx)(n.p,{children:\"With this, you should be able to set up the Zigbee Dongle Plus.\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"adding-a-zigbee-device\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#adding-a-zigbee-device\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Adding A ZigBee Device\"]}),`\n`,(0,e.jsx)(n.p,{children:\"To add a Zigbee device, click on \\u201CZigbee Home Automation\\u201D and then click on configure and then finally click on \\u201CAdd Device\\u201D in the bottom right-hand corner.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now, put your Zigbee device in the pairing mode.\"}),`\n`,(0,e.jsx)(n.p,{children:\"You can achieve this by pressing and holding the Zigbee plug button for some time until it starts blinking.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now the device will be automatically detected and configured.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(t,{alt:\"zigbee-device\",src:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/zigbee-device.webp\",width:\"1410\",height:\"824\"})}),`\n`,(0,e.jsx)(n.p,{children:\"With this, you just set up a Zigbee Plug with Home Assistant using the Sonoff Zigbee 3.0 USB Dongle Plus.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"connecting-sonoff-zigbee-30-usb-dongle-plus-to-home-assistant-docker-container\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#connecting-sonoff-zigbee-30-usb-dongle-plus-to-home-assistant-docker-container\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Connecting Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant Docker Container\"]}),`\n`,(0,e.jsx)(n.p,{children:\"First, we need to connect the Sonoff Zigbee Dongle to the machine running the Home Assistant Docker Container.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Next, we need to find the path which we need to mount as a device to the Home Assistant Container.\"}),`\n`,(0,e.jsx)(n.p,{children:\"For this I have this script you can use to find out the path.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-shell\",children:(0,e.jsxs)(n.code,{className:\"language-shell code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token for-or-select variable\",children:\"sysdevpath\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"find\"}),\" /sys/bus/usb/devices/usb*/ -name dev\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"do\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"syspath\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsxs)(n.span,{className:\"token string\",children:['\"',(0,e.jsxs)(n.span,{className:\"token variable\",children:[\"${sysdevpath\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"dev}\"]}),'\"']}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"devname\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsxs)(n.span,{className:\"token string\",children:['\"',(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),\"udevadm info -q name -p $syspath\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),'\"']}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\" \",(0,e.jsxs)(n.span,{className:\"token string\",children:['\"',(0,e.jsx)(n.span,{className:\"token variable\",children:\"$devname\"}),'\"']}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"bus/\"'}),\"* \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exit\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"eval\"}),\" \",(0,e.jsxs)(n.span,{className:\"token string\",children:['\"',(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),\"udevadm info -q property --export -p $syspath\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),'\"']}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\" -z \",(0,e.jsxs)(n.span,{className:\"token string\",children:['\"',(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ID_SERIAL\"}),'\"']}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exit\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,e.jsxs)(n.span,{className:\"token string\",children:['\"/dev/',(0,e.jsx)(n.span,{className:\"token variable\",children:\"$devname\"}),\" - \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ID_SERIAL\"}),'\"']}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"done\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"You need to copy this script to a file called \\u201Cfind-usb.sh\\u201D.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Make this file executable using the command \",(0,e.jsx)(n.code,{children:\"chmod +x find-usb.sh\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Next, run this script and you should get an output like this.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(t,{alt:\"find-usb-script\",src:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/find-usb-script.webp\",width:\"2006\",height:\"654\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Now copy the path and add it to your Home Assistant Docker Compose file as a device as shown bellow\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(t,{alt:\"home-assistant-docker-compose\",src:\"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/home-assistant-docker-compose.webp\",width:\"1384\",height:\"630\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"You can find the \",(0,e.jsx)(n.code,{children:\"docker-compose.yaml\"}),\" file content in the link \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/run-home-assistant-container-with-docker#create-home-assistant-docker-compose-file\",children:\"here\"}),\".\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"With this, now save the file and restart the Home Assistant Docker Container using the command \",(0,e.jsx)(n.code,{children:\"docker compose down\"}),\" and then \",(0,e.jsx)(n.code,{children:\"docker compose up -d\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"Next, as shown above, head towards the \\u201CServices & devices\\u201D section in settings and add \\u201CZigbee Home Automation\\u201D\"}),`\n`,(0,e.jsx)(n.p,{children:\"You should be able to see the mounted device.\"}),`\n`,(0,e.jsx)(n.p,{children:\"If you are interested in more such Home Automation Setups and Ideas, you can read the following three articles\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/esp32-cam-esphome-with-home-assistant\",children:(0,e.jsx)(n.strong,{children:\"Setup ESP32 CAM With ESP Home and Home Assistant\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/add-matter-devices-to-home-assistant\",children:(0,e.jsx)(n.strong,{children:\"Adding a Matter Device to Home Assistant\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/air-quality-sensor-and-light-sensor-esp32-home-assistant\",children:(0,e.jsx)(n.strong,{children:\"Build Air Quality Monitor With Light Sensor For Home Assistant\"})})}),`\n`]})]})}}var S=y;function h(s,i){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+s+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return A;})();\n;return Component;","toc":[{"value":"Pre-Requisites","url":"#pre-requisites","depth":2},{"value":"Connecting Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant OS","url":"#connecting-sonoff-zigbee-30-usb-dongle-plus-to-home-assistant-os","depth":2},{"value":"Adding A ZigBee Device","url":"#adding-a-zigbee-device","depth":3},{"value":"Connecting Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant Docker Container","url":"#connecting-sonoff-zigbee-30-usb-dongle-plus-to-home-assistant-docker-container","depth":2}],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.64,"time":218400,"words":728},"slug":"2023/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","fileName":"2023/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant.md","title":"Connect Zigbee Plug Using Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["Zigbee","Sonoff Dongle Plus","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-17T00:00:00.000Z","draft":false,"summary":"In this article, we will be looking at how we can connect Zigbee Devices using Sonoff Zigbee 3.0 USB Dongle Plus to Home Assistant.","imageUrl":"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/cover.jpg","actualUrl":"2023/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","customUrl":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/DynzcuwaY7s"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.97,"time":58200,"words":194},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"How I Built My Own Air Quality Monitor With Light Sensor For Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["ESP32","D1 Mini","CO2 Sensor","SGP30","BH1750","Home Assistant","ESPHome"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-10T00:00:00.000Z","draft":false,"summary":"In this article, we will be looking at how we can connect SGP30 CO2 (Carbon Dioxide) sensor and BH17450 Light sensor to Home Assistant","imageUrl":"/static/images/2023/air-quality-sensor-esp32-home-assistant/cover.jpg","actualUrl":"2023/air-quality-sensor-and-light-sensor-esp32-home-assistant","customUrl":"air-quality-sensor-and-light-sensor-esp32-home-assistant","youtubeLink":"https://www.youtube.com/embed/bwVttXh4Lk4","slug":"air-quality-sensor-and-light-sensor-esp32-home-assistant"},"next":{"title":"How To Setup Local Tuya With Home Assistant","author":"Amrut Prabhu","categories":"","tags":["Tuya","Local Tuya","Smart Wifi Plug","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-24T00:00:00.000Z","draft":false,"summary":"In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya.","imageUrl":"/static/images/2023/local-tuya-setup-in-home-assistant/cover.jpg","actualUrl":"2023/how-to-setup-local-tuya-in-home-assistant","customUrl":"how-to-setup-local-tuya-in-home-assistant","youtubeLink":"https://www.youtube.com/embed/wtzw_d4KMEQ","slug":"how-to-setup-local-tuya-in-home-assistant"}},"__N_SSG":true}