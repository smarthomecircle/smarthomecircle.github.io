{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var m=Object.create;var s=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var a=n=>s(n,\"__esModule\",{value:!0});var w=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports),y=(n,i)=>{a(n);for(var o in i)s(n,o,{get:i[o],enumerable:!0})},b=(n,i,o)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let t of p(i))!f.call(n,t)&&t!==\"default\"&&s(n,t,{get:()=>i[t],enumerable:!(o=u(i,t))||o.enumerable});return n},S=n=>b(a(s(n!=null?m(g(n)):{},\"default\",n&&n.__esModule&&\"default\"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var l=w((H,c)=>{c.exports=_jsx_runtime});var M={};y(M,{default:()=>v,frontmatter:()=>k});var e=S(l()),k={title:\"Connect Xiaomi Temperature and Humidity (LYWSD03MMC) Bluetooth Sensor to Home Assistant\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Xiaomi\",\"Sensor\",\"Bluetooth\",\"Home Assistant\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2023-12-18\",draft:!1,summary:\"In this article, we will look at how we can connect the Xiaomi Temperature and Humidity (LYWSD03MMC) Bluetooth Sensor to Home Assistant\",imageUrl:\"/static/images/2023/xiaomi-temp-humidity-sensor/cover.jpg\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/lKjgbug9WNY\"};function x(n={}){let{wrapper:i}=n.components||{};return i?(0,e.jsx)(i,Object.assign({},n,{children:(0,e.jsx)(o,{})})):o();function o(){let t=Object.assign({p:\"p\",em:\"em\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",strong:\"strong\",br:\"br\",img:\"img\",ul:\"ul\",div:\"div\",blockquote:\"blockquote\"},n.components),{TOCInline:h,Image:r}=t;return r||d(\"Image\",!0),h||d(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(t.p,{children:[\"In this article, we will explore how we can connect the Xiaomi Temperature and Humidity (\",(0,e.jsx)(t.em,{children:\"LYWSD03MMC\"}),\") Bluetooth Sensor to Home Assistant\"]}),`\n`,(0,e.jsx)(h,{toc:n.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(t.h2,{id:\"requirements\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#requirements\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Requirements\"]}),`\n`,(0,e.jsxs)(t.ol,{children:[`\n`,(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:\"Home Assistant OS\"}),\" setup and running.\",(0,e.jsx)(t.br,{}),`\n`,\"You can check \",(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/how-to-connect-wifi-to-home-assistant-on-startup\",children:\"this\"}),\" link to see how you can install it for the first time.\"]}),`\n`,(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:\"Bluetooth Proxy\"}),\" setup and running\",(0,e.jsx)(t.br,{}),`\n`,\"You can check \",(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/connect-bluetooth-devices-to-home-assistant-with-bluetooth-proxy\",children:\"this\"}),\" page, to see how you can set it up.\"]}),`\n`,(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.strong,{children:\"Xiaomi Temperature and Humidity (LYWSD03MMC) Bluetooth Sensor\"}),`\n`,(0,e.jsx)(t.a,{href:\"https://s.click.aliexpress.com/e/_DkrUrzT\",children:(0,e.jsx)(t.img,{src:\"/static/images/2023/xiaomi-temp-humidity-sensor/xiaomi-temp-humidity-sensor.png\",alt:\"Xiaomi Temperature and Humidity (LYWSD03MMC) Bluetooth Sensor\"})}),`\n`,(0,e.jsxs)(t.ul,{children:[`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://s.click.aliexpress.com/e/_DkrUrzT\",children:(0,e.jsx)(t.strong,{children:\"Buy On AliExpress\"})})}),`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://amzn.to/480BKEO\",children:(0,e.jsx)(t.strong,{children:\"Buy On Amazon\"})})}),`\n`]}),`\n`,(0,e.jsx)(\"br\",{}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(t.p,{children:\"To connect the sensor to Home Assistant, we must first Factory Reset the device and then flash it with custom firmware.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Let\\u2019s look at how we can do that.\"}),`\n`,(0,e.jsxs)(t.h2,{id:\"factory-reset-xiaomi-temperature-and-humidity-bluetooth-sensor\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#factory-reset-xiaomi-temperature-and-humidity-bluetooth-sensor\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Factory Reset Xiaomi Temperature and Humidity Bluetooth Sensor\"]}),`\n`,(0,e.jsx)(t.p,{children:\"Follow these steps to factory reset the Xiaomi Temperature and Humidity Bluetooth Sensor.\"}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 1:\"}),\" Open the back panel of the device.\"]}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 2:\"}),\" Connect the \",(0,e.jsx)(t.strong,{children:\"Reset\"}),\" and \",(0,e.jsx)(t.strong,{children:\"GND\"}),\" pins with a wire and hold it for 5\\u20136 secs.\"]}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(r,{alt:\"LYWSD03MMC-reset-switch\",src:\"/static/images/2023/xiaomi-temp-humidity-sensor/LYWSD03MMC-reset-switch.webp\",width:\"512\",height:\"459\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Once the screen refreshes, this means the device is factory reset.\"}),`\n`,(0,e.jsxs)(t.h2,{id:\"flashing-xiaomi-temperature-and-humidity-sensor-with-custom-firmware\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#flashing-xiaomi-temperature-and-humidity-sensor-with-custom-firmware\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Flashing Xiaomi Temperature and Humidity Sensor with Custom Firmware\"]}),`\n`,(0,e.jsx)(t.p,{children:\"To use the Xiaomi Temperature and Humidity Bluetooth sensor with Home Assistant, you must flash it with custom firmware.\"}),`\n`,(0,e.jsxs)(t.blockquote,{children:[`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Warning:\"}),\" Flashing custom firmware is always at your own risk. Flashing custom firmware can brick your device and make it unusable. So proceed with your own risk.\"]}),`\n`]}),`\n`,(0,e.jsx)(t.p,{children:\"To flash the custom firmware follow these steps.\"}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 1:\"}),\" Open \",(0,e.jsx)(t.a,{href:\"https://pvvx.github.io/ATC_MiThermometer/TelinkMiFlasher.html\",children:\"this\"}),\" URL in your Chrome or Edge browser.\"]}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 2:\"}),\" Click on the \",(0,e.jsx)(t.strong,{children:\"Get Advertising MAC\"}),\" option and then click on \",(0,e.jsx)(t.strong,{children:\"Connect\"}),\" and select the device with \",(0,e.jsx)(t.strong,{children:(0,e.jsx)(t.em,{children:\"LYWSD03MMC\"})}),\" as the name\"]}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(r,{alt:\"LYWSD03MMC-sensor\",src:\"/static/images/2023/xiaomi-temp-humidity-sensor/LYWSD03MMC-sensor.webp\",width:\"323\",height:\"324\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Setting up a connection can take about 4\\u20135 minutes.\"}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 3:\"}),\" Now click on \",(0,e.jsx)(t.strong,{children:\"Custom Firmware ver 4.6\"}),\" and click on \",(0,e.jsx)(t.strong,{children:\"Start Flashing.\"})]}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(r,{alt:\"flash-custom-firmware\",src:\"/static/images/2023/xiaomi-temp-humidity-sensor/flash-custom-firmware.webp\",width:\"571\",height:\"235\"})}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 4:\"}),\" After flashing completes, click on \",(0,e.jsx)(t.strong,{children:\"Reconnect\"}),\" to re-connect the device.\"]}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 5:\"}),\" Scroll down to the \",(0,e.jsx)(t.strong,{children:\"Configuration\"}),\" section and change the \",(0,e.jsx)(t.strong,{children:\"Advertising type\"}),\" to \",(0,e.jsx)(t.strong,{children:\"BTHome v2.\"})]}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 6:\"}),\" Click on \",(0,e.jsx)(t.strong,{children:\"Send Config.\"})]}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(r,{alt:\"\",src:\"/static/images/2023/xiaomi-temp-humidity-sensor/set-config.webp\",width:\"586\",height:\"585\"})}),`\n`,(0,e.jsx)(t.p,{children:\"With this, the custom firmware is flashed and configured.\"}),`\n`,(0,e.jsx)(t.p,{children:\"You can now connect the Xiaomi Temperature and Humidity Bluetooth sensor to Home Assistant.\"}),`\n`,(0,e.jsxs)(t.h2,{id:\"connecting-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#connecting-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Connecting Xiaomi Temperature and Humidity Bluetooth Sensor to Home Assistant\"]}),`\n`,(0,e.jsx)(t.p,{children:\"With the custom firmware installed in the sensor, we can now connect it to Home Assistant.\"}),`\n`,(0,e.jsx)(t.p,{children:\"To connect the sensor to Home Assistant, follow these steps.\"}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 1:\"}),\" Go to Home Assistant \",(0,e.jsx)(t.strong,{children:\"Settings\"}),\" in the left panel.\"]}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 2:\"}),\" Click on \",(0,e.jsx)(t.strong,{children:\"Devices & Services.\"})]}),`\n`,(0,e.jsx)(t.p,{children:\"Mostly you should see it being auto-discovered like this.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(r,{alt:\"bthome-auto-discover\",src:\"/static/images/2023/xiaomi-temp-humidity-sensor/bthome-auto-discover.webp\",width:\"275\",height:\"155\"})}),`\n`,(0,e.jsx)(t.p,{children:\"If not, then\"}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 3:\"}),\" Click on \",(0,e.jsx)(t.strong,{children:\"Add Integration\"}),\" from the bottom right-hand corner.\"]}),`\n`,(0,e.jsxs)(t.p,{children:[(0,e.jsx)(t.strong,{children:\"Step 4:\"}),\" Search for \",(0,e.jsx)(t.strong,{children:\"BTHome\"}),\" and click on it.\"]}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(r,{alt:\"bthome-integration\",src:\"/static/images/2023/xiaomi-temp-humidity-sensor/bthome-integration.webp\",width:\"275\",height:\"207\"})}),`\n`,(0,e.jsx)(t.p,{children:\"You should be able to see the device there.\"}),`\n`,(0,e.jsxs)(t.p,{children:[\"In case it does not still show up, wait for some time and retry the \",(0,e.jsx)(t.strong,{children:\"BThome\"}),\" Integration again.\"]}),`\n`,(0,e.jsx)(t.p,{children:\"If you are interested in exploring more of such easy to follow step by step guides about Home Assistant, then here are a few suggestions\"}),`\n`,(0,e.jsxs)(t.ul,{children:[`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/install-zigbee2mqtt-with-home-assistant\",children:(0,e.jsx)(t.strong,{children:\"Setup Zigbee2Mqtt with Home Assistant\"})})}),`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant\",children:(0,e.jsx)(t.strong,{children:\"Using Sonoff Zigbee 3.0 USB Dongle Plus With Home Assistant\"})})}),`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/setup-voice-assistant-with-home-assistant-using-docker-usb-microphone\",children:(0,e.jsx)(t.strong,{children:\"Voice Assistant In Home Assistant Using USB Microphone\"})})}),`\n`]})]})}}var v=x;function d(n,i){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return M;})();\n;return Component;","toc":[{"value":"Requirements","url":"#requirements","depth":2},{"value":"Factory Reset Xiaomi Temperature and Humidity Bluetooth Sensor","url":"#factory-reset-xiaomi-temperature-and-humidity-bluetooth-sensor","depth":2},{"value":"Flashing Xiaomi Temperature and Humidity Sensor with Custom Firmware","url":"#flashing-xiaomi-temperature-and-humidity-sensor-with-custom-firmware","depth":2},{"value":"Connecting Xiaomi Temperature and Humidity Bluetooth Sensor to Home Assistant","url":"#connecting-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant","depth":2}],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.04,"time":182400,"words":608},"slug":"2023/connect-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant","fileName":"2023/connect-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant.md","title":"Connect Xiaomi Temperature and Humidity (LYWSD03MMC) Bluetooth Sensor to Home Assistant","author":"Amrut Prabhu","categories":"","tags":["Xiaomi","Sensor","Bluetooth","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-12-18T00:00:00.000Z","draft":false,"summary":"In this article, we will look at how we can connect the Xiaomi Temperature and Humidity (LYWSD03MMC) Bluetooth Sensor to Home Assistant","imageUrl":"/static/images/2023/xiaomi-temp-humidity-sensor/cover.jpg","actualUrl":"2023/connect-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant","customUrl":"connect-xiaomi-temperature-and-humidity-bluetooth-sensor-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/lKjgbug9WNY"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.775,"time":46500,"words":155},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"SmartHomeCircle@gmail.com","twitter":"https://twitter.com/amrutprabhu42","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"How to Connect Bluetooth Devices to Home Assistant with Bluetooth Proxy","author":"Amrut Prabhu","categories":"","tags":["Bluetooth","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-12-17T00:00:00.000Z","draft":false,"summary":"In this article, we will explore how we can setup a Bluetooth Proxy to connect Bluetooth devices with Home Assistant","imageUrl":"/static/images/2023/bluetooth-proxy-home-assistant/cover.jpg","actualUrl":"2023/connect-bluetooth-devices-to-home-assistant-with-bluetooth-proxy","customUrl":"connect-bluetooth-devices-to-home-assistant-with-bluetooth-proxy","youtubeLink":"https://www.youtube.com/embed/lKjgbug9WNY","slug":"connect-bluetooth-devices-to-home-assistant-with-bluetooth-proxy"},"next":{"title":"Custom Sentences For Voice Assistant In Home Assistant","author":"Amrut Prabhu","categories":"","tags":["Custom","Voice Assistant","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-12-21T00:00:00.000Z","draft":false,"summary":"In this article, we will explore how we can create custom sentences for your voice assistant in for Home Assistant","imageUrl":"/static/images/2023/custom-sentences-home-assistant/cover.jpg","actualUrl":"2023/custom-sentences-for-voice-assistant-in-home-assistant","customUrl":"custom-sentences-for-voice-assistant-in-home-assistant","youtubeLink":"https://www.youtube.com/embed/VYEbRJWGyGU","slug":"custom-sentences-for-voice-assistant-in-home-assistant"}},"__N_SSG":true}