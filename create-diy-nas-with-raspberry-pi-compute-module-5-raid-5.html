<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');d.add('light');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><script id="buymeacoffee" data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="amrutprabhu" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FFDD00" data-position="Right" data-x_margin="18" data-y_margin="18" strategy="afterInteractive" async=""></script><title>Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter | Smart Home Circle</title><meta name="robots" content="follow, index"/><meta name="description" content="Build a DIY NAS using Raspberry Pi Compute Module 5, NVMe to SATA adapter, and OpenMediaVault with RAID 5."/><meta property="og:url" content="https://smarthomecircle.com/create-diy-nas-with-raspberry-pi-compute-module-5-raid-5"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Smart Home Circle"/><meta property="og:description" content="Build a DIY NAS using Raspberry Pi Compute Module 5, NVMe to SATA adapter, and OpenMediaVault with RAID 5."/><meta property="og:title" content="Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter"/><meta property="og:image" content="https://smarthomecircle.com/static/images/2024/diy-nas-cm5/cover.webp"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://twitter.com/smarthomecircle"/><meta name="twitter:title" content="Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter"/><meta name="twitter:description" content="Build a DIY NAS using Raspberry Pi Compute Module 5, NVMe to SATA adapter, and OpenMediaVault with RAID 5."/><meta name="twitter:image" content="https://smarthomecircle.com/static/images/2024/diy-nas-cm5/cover.webp"/><meta property="article:published_time" content="2025-06-13T00:00:00.000Z"/><link rel="canonical" href="https://smarthomecircle.com/create-diy-nas-with-raspberry-pi-compute-module-5-raid-5"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://smarthomecircle.com/create-diy-nas-with-raspberry-pi-compute-module-5-raid-5"
  },
  "headline": "Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://smarthomecircle.com/static/images/2024/diy-nas-cm5/cover.webp"
    }
  ],
  "datePublished": "2025-06-13T00:00:00.000Z",
  "dateModified": "2025-06-13T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Amrut Prabhu"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Amrut Prabhu",
    "logo": {
      "@type": "ImageObject",
      "url": "https://smarthomecircle.com/static/images/favicons/icon.png"
    }
  },
  "description": "Build a DIY NAS using Raspberry Pi Compute Module 5, NVMe to SATA adapter, and OpenMediaVault with RAID 5."
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/icon.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/0a51e5e9cc3b3f44.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/0a51e5e9cc3b3f44.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-46bc954ffc99d3b0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-813e4218627b5a82.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-80dad2c2b372db2b.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/146-6e5e503440377105.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/573-080a4747a4f57798.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/620-1c301414689a98bf.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-cfbd94dcfd5f5f6d.js" defer="" crossorigin=""></script><script src="/_next/static/1baFIxvOySUHhi-AF_6QL/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/1baFIxvOySUHhi-AF_6QL/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="antialiased text-black bg-white dark:bg-gray-900 dark:text-white"><div id="__next"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="flex flex-col justify-between h-screen"><header class="flex items-center justify-between py-10"><div><a aria-label="SmartHomeCircle" href="/"><div class="flex items-center justify-between"><div class="mr-3"><img alt="smart home circle" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" style="color:transparent" src="/static/favicons/icon.png"/></div><div class="h-6 text-2xl font-semibold sm:block">Smart Home Circle</div></div></a></div><div class="mt-6"></div><div class="flex items-center text-base leading-5"><div class="hidden sm:flex items-center"><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle" class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100">YouTube</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/posts">Posts</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About &amp; Contact</a><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu"><img alt="Buy Me A Coffee" loading="lazy" width="140" height="20" decoding="async" data-nimg="1" style="color:transparent" src="static/buymeacoffee.png"/></a></div><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="w-8 h-8 py-1 ml-1 mr-1 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed w-full h-full top-24 right-0 bg-gray-200 dark:bg-gray-800 opacity-95 z-10 transform ease-in-out duration-300 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed w-full h-full cursor-auto focus:outline-none"></button><nav class="fixed h-full mt-8"><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle" class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100">YouTube</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/posts">Posts</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About &amp; Contact</a></div><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu"><img alt="Buy Me A Coffee" loading="lazy" width="140" height="20" decoding="async" data-nimg="1" style="color:transparent" src="static/buymeacoffee.png"/></a></div></nav></div></div></div></header><main class="mb-auto"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="fixed flex-col hidden gap-3 right-8 bottom-8 md:flex"><button aria-label="Scroll To Top" type="button" style="opacity:0" class="p-2 text-gray-500 transition-all bg-gray-200 rounded-full dark:text-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 hover:bg-gray-300"><svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-100"><time dateTime="2025-06-13T00:00:00.000Z">Friday, June 13, 2025</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter</h1><div class="mt-6"><div class="max-w-3xl mx-auto"><div class="aspect-w-16 aspect-h-9 relative"><img alt="Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter" loading="lazy" width="544" height="407" decoding="async" data-nimg="1" class="object-cover object-center rounded-2xl" style="color:transparent" src="/static/images/2024/diy-nas-cm5/cover.webp"/></div></div></div><div class="text-primary-500 hover:text-primary-600 text-md dark:hover:text-primary-400"><div></div></div><div class="mt-2 text-gray-500 dark:text-gray-100">4 min read</div></div></div></header><div class="pb-8 divide-y divide-gray-200 xl:divide-y-0 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 xl:block sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="avatar" loading="lazy" width="38" height="38" decoding="async" data-nimg="1" class="w-10 h-10 rounded-full" style="color:transparent" src="/static/images/avatar-small.jpg"/><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Amrut Prabhu</dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/smarthomecircle" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@smarthomecircle</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:pb-0 xl:col-span-3 xl:row-span-2"><div class="pt-10 pb-8 prose text-lg leading-8 dark:prose-dark max-w-none"><div><div class="xl:px-48 "><div class="relative w-full pt-[56.25%]"><iframe id="youtubeLink12025-06-13T00:00:00.000Z" class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/5J-es6-DBU4" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><br/></div></div><div></div><div><details open=""><summary class="pt-2 pb-2 ml-6 text-xl font-bold">Table of Contents</summary><div class="ml-6"><ul><li class="ml-6"><a href="#components-used">Components Used:</a></li><li class="ml-6"><a href="#installing-the-os-and-configurations">Installing the OS and Configurations</a></li><li class="ml-6"><a href="#set-up-openmediavault-and-raid-5">Set Up OpenMediaVault and RAID 5</a></li><li class="ml-6"><a href="#performance-testing">Performance Testing</a></li><li class="ml-6"><a href="#power-consumption">Power Consumption</a></li><li class="ml-6"><a href="#challenges-and-solutions">Challenges and Solutions</a></li><li class="ml-6"><a href="#conclusion">Conclusion</a></li></ul></div></details>
<p>In this guide, we’ll walk through the process of creating a DIY Network-Attached Storage (NAS) system using a Raspberry Pi Compute Module 5 (CM5) and an NVMe to SATA adapter.</p>
<p>This adapter, equipped with the ASM1166 chip, supports six SATA connections, making it a versatile tool for this project. Let’s dive into the steps, challenges, and results.</p>
<hr/>
<h4 id="components-used"><a href="#components-used" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Components Used:</h4>
<ol>
<li>
<p><strong>Raspberry Pi Compute Module 5</strong>: A compact yet powerful computing module.</p>
<div><img alt="sata adapater" loading="lazy" width="250" height="199" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2024/diy-nas-cm5/cm5-front.webp"/></div>
<ul>
<li><strong>AliExpress</strong> : <a target="_blank" rel="noopener noreferrer" href="https://s.click.aliexpress.com/e/_DdzGQGd">https://s.click.aliexpress.com/e/_DdzGQGd</a></li>
<li><strong>ThePiHut</strong> : <a target="_blank" rel="noopener noreferrer" href="https://thepihut.com/products/raspberry-pi-compute-module-5">https://thepihut.com/products/raspberry-pi-compute-module-5</a></li>
<li><strong>BerryBase</strong> : <a target="_blank" rel="noopener noreferrer" href="https://www.berrybase.de/en/detail/019350e97c767050917125760299ebf0">https://www.berrybase.de/en/detail/019350e97c767050917125760299ebf0</a></li>
</ul>
</li>
<li>
<p><strong>NVMe to SATA Adapter</strong>: Features the ASM1166 chip for connecting multiple SATA drives.</p>
<div><img alt="sata adapater" loading="lazy" width="233" height="233" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2024/diy-nas-cm5/sata-adapter.webp"/></div>
<ul>
<li>Amazon EU:          <a target="_blank" rel="noopener noreferrer" href="https://amzn.to/4fjHg8j">https://amzn.to/4fjHg8j</a></li>
<li>Amazon US:          <a target="_blank" rel="noopener noreferrer" href="https://amzn.to/3Bm0QmD">https://amzn.to/3Bm0QmD</a></li>
<li>AliExpress  :          <a target="_blank" rel="noopener noreferrer" href="https://s.click.aliexpress.com/e/_olOqrGf">https://s.click.aliexpress.com/e/_olOqrGf</a></li>
</ul>
</li>
<li>
<p><strong>Acrylic HDD Rack Mount</strong>: For neatly organizing hard drives.</p>
<div><img alt="hdd rack" loading="lazy" width="233" height="233" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2024/diy-nas-cm5/hdd-rack.webp"/></div>
<ul>
<li>Amazon EU:          <a target="_blank" rel="noopener noreferrer" href="https://amzn.to/3BuOMPY">https://amzn.to/3BuOMPY</a></li>
<li>Amazon US:          <a target="_blank" rel="noopener noreferrer" href="https://amzn.to/4iFN3rF">https://amzn.to/4iFN3rF</a></li>
<li>AliExpress  :          <a target="_blank" rel="noopener noreferrer" href="https://s.click.aliexpress.com/e/_olEubxz">https://s.click.aliexpress.com/e/_olEubxz</a></li>
</ul>
</li>
<li>
<p><strong>SATA Power Supply Cable</strong>: Powered by a DC adapter (7.5A, 12V).</p>
<div><img alt="sata power supply" loading="lazy" width="233" height="233" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2024/diy-nas-cm5/sata-power.webp"/></div>
<ul>
<li>AliExpress:           <a target="_blank" rel="noopener noreferrer" href="https://s.click.aliexpress.com/e/_ooaEC11">https://s.click.aliexpress.com/e/_ooaEC11</a></li>
</ul>
</li>
<li>
<p><strong>Hard Drives</strong>: Used for creating the storage array.</p>
<ul>
<li>Amazon EU:        <a target="_blank" rel="noopener noreferrer" href="https://amzn.to/3OZOzHs">https://amzn.to/3OZOzHs</a></li>
<li>Amazon US:        <a target="_blank" rel="noopener noreferrer" href="https://amzn.to/4ghjE5E">https://amzn.to/4ghjE5E</a></li>
</ul>
</li>
<li>
<p><strong>OpenMediaVault (OMV)</strong>: Software for managing NAS.</p>
</li>
</ol>
<hr/>
<h4 id="installing-the-os-and-configurations"><a href="#installing-the-os-and-configurations" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Installing the OS and Configurations</h4>
<p>I installed Raspberry Pi OS Lite on the Compute Module 5. This OS is lightweight and ideal for running OpenMediaVault. (A detailed video guide on flashing the OS on the CM5 with eMMC storage is linked <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/how-to-install-os-on-raspberry-pi-compute-module-5-emmc-storage">here</a>)</p>
<p>During the setup, I encountered an error related to the AHCI controller. After <a target="_blank" rel="noopener noreferrer" href="https://github.com/raspberrypi/linux/issues/6214#issuecomment-2246811573">some research</a>, I added the following to load the required overlays in the <code>config.txt</code> file and rebooted the system.</p>
<div class="relative"><pre><code class="language-properties code-highlight"><span class="code-line"><span class="token key attr-name">[all]</span> <span class="token value attr-value"> </span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># dtparam=pciex1  </span>
</span><span class="code-line"><span class="token comment"># dtparam=pciex1_gen=3  </span>
</span><span class="code-line">
</span><span class="code-line"><span class="token key attr-name">dtparam</span><span class="token punctuation">=</span><span class="token value attr-value">pcie-32bit-dma-pi5  </span>
</span><span class="code-line"><span class="token key attr-name">dtoverlay</span><span class="token punctuation">=</span><span class="token value attr-value">pciex1-compat-pi5,no-mip</span>
</span></code></pre></div>
<p>This resolved the issue, and the drives were successfully recognized.</p>
<hr/>
<h4 id="set-up-openmediavault-and-raid-5"><a href="#set-up-openmediavault-and-raid-5" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Set Up OpenMediaVault and RAID 5</h4>
<p>I have a detailed guide to setup Open Media Vault on a Raspberry Pi 5 <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/create-nas-with-raspberry-pi-5">here</a></p>
<p>With OpenMediaVault installed, I accessed its UI to confirm the drives were detected. Using the multiple device plugin, I formatted the drives and set up RAID 5 for redundancy and performance.</p>
<p>RAID 5 allowed me to combine multiple drives into a single array while safeguarding data against single-drive failures. For detailed instructions, check out my video on setting up <a target="_blank" rel="noopener noreferrer" href="https://youtu.be/0AVOghLYEu8">OpenMediaVault and RAID 5</a>.</p>
<hr/>
<h4 id="performance-testing"><a href="#performance-testing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Performance Testing</h4>
<p>After exposing the NAS via SMB services, I tested the setup by transferring a large file over a LAN connection. The results were impressive:</p>
<ul>
<li>Using the onboard Ethernet: ~110 MB/s.</li>
<li>With a 2.5 Gbps USB-to-Ethernet adapter: 130–140 MB/s.</li>
</ul>
<p>While these speeds are solid for hard drives, my SSD-based NAS setup achieved faster speeds of ~200 MB/s.</p>
<hr/>
<h4 id="power-consumption"><a href="#power-consumption" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Power Consumption</h4>
<p>Power consumption for the HDD-based NAS was measured:</p>
<ul>
<li><strong>Idle</strong>: ~21W.</li>
<li><strong>Peak Load</strong>: ~34W.</li>
</ul>
<p>In comparison, my SSD-based NAS consumed only ~9W at peak load, making it more energy-efficient for daily use. I plan to use the HDD NAS as a backup solution, automating it to replicate data from the SSD NAS and shut down afterward. This approach minimizes energy use and wear on the drives.</p>
<hr/>
<h4 id="challenges-and-solutions"><a href="#challenges-and-solutions" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Challenges and Solutions</h4>
<ol>
<li><strong>NVMe to SATA Adapter Durability</strong>: The adapter is fragile, requiring careful handling when connecting/disconnecting SATA cables.</li>
<li><strong>Heat Generation</strong>: Hard drives generate significant heat. A fan will be added to improve cooling, albeit at the cost of higher power consumption.</li>
</ol>
<hr/>
<h4 id="conclusion"><a href="#conclusion" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conclusion</h4>
<p>This DIY NAS setup demonstrates the potential of the Raspberry Pi Compute Module 5 and the NVMe to SATA adapter. While it’s not as energy-efficient as SSD-based solutions, it offers a reliable backup system with decent performance.</p>
<p>For more innovative projects, subscribe to <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle">my channel</a>.</p>
<p>If you’d like to support my work, consider <a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu">buying me a coffee</a> or contributing via <a target="_blank" rel="noopener noreferrer" href="https://patreon.com/AmrutPrabhu">Patreon</a>.</p>
<ul>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/create-nas-with-raspberry-pi-5"><strong>Create a NAS with Raspberry Pi 5</strong></a></li>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/radxa-x4-alternative-to-raspberry-pi-5"><strong>Radxa X4: 60$ Powerful Atlernative to Raspberry Pi 5</strong></a></li>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/how-to-install-os-on-raspberry-pi-compute-module-5-emmc-storage"><strong>Install OS on Raspberry Pi Compute Module 5 with eMMC Storage</strong></a></li>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/Orange-pi-5-max-a-powerful-successor-to-orange-pi-5-pro"><strong>Orange Pi 5 MAX: A Powerful Successor to the Orange Pi 5 Pro</strong></a></li>
</ul></div><div><div><br/><button type="button" class="text-white bg-[#3b5998] hover:bg-[#3b5998]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></svg>Share</button><button type="button" class="text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></svg>Tweet</button><button type="button" class="text-white bg-[#0077B5] hover:bg-[#00A0DC]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></svg>Post</button><button type="button" class="text-white bg-[#4285F4] hover:bg-[#4285F4]/90 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"><svg class="w-4 h-4 mr-2 -ml-1" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="email" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></svg>Share</button></div></div></div><hr/></div><footer><div class="text-sm font-medium leading-5 divide-gray-200 xl:divide-y dark:divide-gray-700 xl:col-start-1 xl:row-start-2"><div class="py-4 xl:py-8"><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/raspberry-pi">Raspberry Pi</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/cm5">CM5</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/compute-module">Compute Module</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/compute-module-5">Compute Module 5</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/open-media-vault">open media vault</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/nas">NAS</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/raid-5">Raid 5</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/radxa-x4l-a-powerful-pocket-sized-computer">Radxa X4L: A Pocket-Sized Powerhouse</a></div></div></div></div><div class="pt-4 xl:pt-8 xl:mb-8 mb-4"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/">← Back to the articles</a></div><div class="hidden xl:block"></div></footer></div></div></article></div></main><footer><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:contactsmarthomecircle@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle"><span class="sr-only">youtube</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.499 6.203a3.008 3.008 0 0 0-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 0 0-2.088 2.09A31.258 31.26 0 0 0 0 12.01a31.258 31.26 0 0 0 .523 5.785 3.008 3.008 0 0 0 2.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 0 0 2.089-2.09 31.258 31.26 0 0 0 .5-5.784 31.258 31.26 0 0 0-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/smarthomecircle"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://bsky.app/profile/smarthomecircle.com"><span class="sr-only">blueSky</span><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"></path></svg></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Amrut Prabhu</div><div> • </div><div>© 2025</div><div> • </div><a href="/">Smart Home Circle</a><div> • </div><a href="/privacy">Privacy Policy</a></div><br/></div></footer></div></div><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div id="cookie-notice" class="consent_consentname__W_12w"><br/><br/><p>By clicking “I Accept”, you agree to the storing of cookies on your device to enhance site navigation and analyze site usage</p><br/><br/><div><a id="cookie-notice-accept" class="consent_greenButton__rKcAp">I Accept</a><a href="/privacy">Privacy Policy</a></div><br/><br/><br/></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var p=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var o=r=\u003es(r,\"__esModule\",{value:!0});var b=(r,i)=\u003e()=\u003e(i||r((i={exports:{}}).exports,i),i.exports),w=(r,i)=\u003e{o(r);for(var t in i)s(r,t,{get:i[t],enumerable:!0})},A=(r,i,t)=\u003e{if(i\u0026\u0026typeof i==\"object\"||typeof i==\"function\")for(let n of u(i))!f.call(r,n)\u0026\u0026n!==\"default\"\u0026\u0026s(r,n,{get:()=\u003ei[n],enumerable:!(t=m(i,n))||t.enumerable});return r},y=r=\u003eA(o(s(r!=null?p(g(r)):{},\"default\",r\u0026\u0026r.__esModule\u0026\u0026\"default\"in r?{get:()=\u003er.default,enumerable:!0}:{value:r,enumerable:!0})),r);var d=b((M,c)=\u003e{c.exports=_jsx_runtime});var v={};w(v,{default:()=\u003ek,frontmatter:()=\u003eS});var e=y(d()),S={title:\"Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Raspberry Pi\",\"CM5\",\"Compute Module\",\"Compute Module 5\",\"open media vault\",\"NAS\",\"Raid 5\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2025-06-13\",draft:!1,summary:\"Build a DIY NAS using Raspberry Pi Compute Module 5, NVMe to SATA adapter, and OpenMediaVault with RAID 5.\",imageUrl:\"/static/images/2024/diy-nas-cm5/cover.webp\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/5J-es6-DBU4\"};function N(r={}){let{wrapper:i}=r.components||{};return i?(0,e.jsx)(i,Object.assign({},r,{children:(0,e.jsx)(t,{})})):t();function t(){let n=Object.assign({p:\"p\",hr:\"hr\",h4:\"h4\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",strong:\"strong\",div:\"div\",ul:\"ul\",code:\"code\",pre:\"pre\"},r.components),{TOCInline:l,Image:a}=n;return a||h(\"Image\",!0),l||h(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l,{toc:r.toc,asDisclosure:!0}),`\n`,(0,e.jsx)(n.p,{children:\"In this guide, we\\u2019ll walk through the process of creating a DIY Network-Attached Storage (NAS) system using a Raspberry Pi Compute Module 5 (CM5) and an NVMe to SATA adapter.\"}),`\n`,(0,e.jsx)(n.p,{children:\"This adapter, equipped with the ASM1166 chip, supports six SATA connections, making it a versatile tool for this project. Let\\u2019s dive into the steps, challenges, and results.\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"components-used\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#components-used\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Components Used:\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Raspberry Pi Compute Module 5\"}),\": A compact yet powerful computing module.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(a,{alt:\"sata adapater\",src:\"/static/images/2024/diy-nas-cm5/cm5-front.webp\",width:\"250\",height:\"199\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"AliExpress\"}),\" : \",(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_DdzGQGd\",children:\"https://s.click.aliexpress.com/e/_DdzGQGd\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"ThePiHut\"}),\" : \",(0,e.jsx)(n.a,{href:\"https://thepihut.com/products/raspberry-pi-compute-module-5\",children:\"https://thepihut.com/products/raspberry-pi-compute-module-5\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"BerryBase\"}),\" : \",(0,e.jsx)(n.a,{href:\"https://www.berrybase.de/en/detail/019350e97c767050917125760299ebf0\",children:\"https://www.berrybase.de/en/detail/019350e97c767050917125760299ebf0\"})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"NVMe to SATA Adapter\"}),\": Features the ASM1166 chip for connecting multiple SATA drives.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(a,{alt:\"sata adapater\",src:\"/static/images/2024/diy-nas-cm5/sata-adapter.webp\",width:\"233\",height:\"233\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"Amazon EU:          \",(0,e.jsx)(n.a,{href:\"https://amzn.to/4fjHg8j\",children:\"https://amzn.to/4fjHg8j\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[\"Amazon US:          \",(0,e.jsx)(n.a,{href:\"https://amzn.to/3Bm0QmD\",children:\"https://amzn.to/3Bm0QmD\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[\"AliExpress  :          \",(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_olOqrGf\",children:\"https://s.click.aliexpress.com/e/_olOqrGf\"})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Acrylic HDD Rack Mount\"}),\": For neatly organizing hard drives.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(a,{alt:\"hdd rack\",src:\"/static/images/2024/diy-nas-cm5/hdd-rack.webp\",width:\"233\",height:\"233\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"Amazon EU:          \",(0,e.jsx)(n.a,{href:\"https://amzn.to/3BuOMPY\",children:\"https://amzn.to/3BuOMPY\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[\"Amazon US:          \",(0,e.jsx)(n.a,{href:\"https://amzn.to/4iFN3rF\",children:\"https://amzn.to/4iFN3rF\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[\"AliExpress  :          \",(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_olEubxz\",children:\"https://s.click.aliexpress.com/e/_olEubxz\"})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"SATA Power Supply Cable\"}),\": Powered by a DC adapter (7.5A, 12V).\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(a,{alt:\"sata power supply\",src:\"/static/images/2024/diy-nas-cm5/sata-power.webp\",width:\"233\",height:\"233\"})}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"AliExpress:           \",(0,e.jsx)(n.a,{href:\"https://s.click.aliexpress.com/e/_ooaEC11\",children:\"https://s.click.aliexpress.com/e/_ooaEC11\"})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Hard Drives\"}),\": Used for creating the storage array.\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"Amazon EU:        \",(0,e.jsx)(n.a,{href:\"https://amzn.to/3OZOzHs\",children:\"https://amzn.to/3OZOzHs\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[\"Amazon US:        \",(0,e.jsx)(n.a,{href:\"https://amzn.to/4ghjE5E\",children:\"https://amzn.to/4ghjE5E\"})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"OpenMediaVault (OMV)\"}),\": Software for managing NAS.\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"installing-the-os-and-configurations\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#installing-the-os-and-configurations\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Installing the OS and Configurations\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"I installed Raspberry Pi OS Lite on the Compute Module 5. This OS is lightweight and ideal for running OpenMediaVault. (A detailed video guide on flashing the OS on the CM5 with eMMC storage is linked \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/how-to-install-os-on-raspberry-pi-compute-module-5-emmc-storage\",children:\"here\"}),\")\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"During the setup, I encountered an error related to the AHCI controller. After \",(0,e.jsx)(n.a,{href:\"https://github.com/raspberrypi/linux/issues/6214#issuecomment-2246811573\",children:\"some research\"}),\", I added the following to load the required overlays in the \",(0,e.jsx)(n.code,{children:\"config.txt\"}),\" file and rebooted the system.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-properties\",children:(0,e.jsxs)(n.code,{className:\"language-properties code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key attr-name\",children:\"[all]\"}),\" \",(0,e.jsx)(n.span,{className:\"token value attr-value\",children:\" \"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# dtparam=pciex1  \"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# dtparam=pciex1_gen=3  \"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key attr-name\",children:\"dtparam\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token value attr-value\",children:\"pcie-32bit-dma-pi5  \"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token key attr-name\",children:\"dtoverlay\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token value attr-value\",children:\"pciex1-compat-pi5,no-mip\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"This resolved the issue, and the drives were successfully recognized.\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"set-up-openmediavault-and-raid-5\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#set-up-openmediavault-and-raid-5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Set Up OpenMediaVault and RAID 5\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"I have a detailed guide to setup Open Media Vault on a Raspberry Pi 5 \",(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/create-nas-with-raspberry-pi-5\",children:\"here\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"With OpenMediaVault installed, I accessed its UI to confirm the drives were detected. Using the multiple device plugin, I formatted the drives and set up RAID 5 for redundancy and performance.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"RAID 5 allowed me to combine multiple drives into a single array while safeguarding data against single-drive failures. For detailed instructions, check out my video on setting up \",(0,e.jsx)(n.a,{href:\"https://youtu.be/0AVOghLYEu8\",children:\"OpenMediaVault and RAID 5\"}),\".\"]}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"performance-testing\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#performance-testing\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Performance Testing\"]}),`\n`,(0,e.jsx)(n.p,{children:\"After exposing the NAS via SMB services, I tested the setup by transferring a large file over a LAN connection. The results were impressive:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Using the onboard Ethernet: ~110 MB/s.\"}),`\n`,(0,e.jsx)(n.li,{children:\"With a 2.5 Gbps USB-to-Ethernet adapter: 130\\u2013140 MB/s.\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"While these speeds are solid for hard drives, my SSD-based NAS setup achieved faster speeds of ~200 MB/s.\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"power-consumption\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#power-consumption\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Power Consumption\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Power consumption for the HDD-based NAS was measured:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Idle\"}),\": ~21W.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Peak Load\"}),\": ~34W.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"In comparison, my SSD-based NAS consumed only ~9W at peak load, making it more energy-efficient for daily use. I plan to use the HDD NAS as a backup solution, automating it to replicate data from the SSD NAS and shut down afterward. This approach minimizes energy use and wear on the drives.\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"challenges-and-solutions\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#challenges-and-solutions\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Challenges and Solutions\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"NVMe to SATA Adapter Durability\"}),\": The adapter is fragile, requiring careful handling when connecting/disconnecting SATA cables.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Heat Generation\"}),\": Hard drives generate significant heat. A fan will be added to improve cooling, albeit at the cost of higher power consumption.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.h4,{id:\"conclusion\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,e.jsx)(n.p,{children:\"This DIY NAS setup demonstrates the potential of the Raspberry Pi Compute Module 5 and the NVMe to SATA adapter. While it\\u2019s not as energy-efficient as SSD-based solutions, it offers a reliable backup system with decent performance.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"For more innovative projects, subscribe to \",(0,e.jsx)(n.a,{href:\"https://www.youtube.com/@SmartHomeCircle\",children:\"my channel\"}),\".\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If you\\u2019d like to support my work, consider \",(0,e.jsx)(n.a,{href:\"https://www.buymeacoffee.com/amrutprabhu\",children:\"buying me a coffee\"}),\" or contributing via \",(0,e.jsx)(n.a,{href:\"https://patreon.com/AmrutPrabhu\",children:\"Patreon\"}),\".\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/create-nas-with-raspberry-pi-5\",children:(0,e.jsx)(n.strong,{children:\"Create a NAS with Raspberry Pi 5\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/radxa-x4-alternative-to-raspberry-pi-5\",children:(0,e.jsx)(n.strong,{children:\"Radxa X4: 60$ Powerful Atlernative to Raspberry Pi 5\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/how-to-install-os-on-raspberry-pi-compute-module-5-emmc-storage\",children:(0,e.jsx)(n.strong,{children:\"Install OS on Raspberry Pi Compute Module 5 with eMMC Storage\"})})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://smarthomecircle.com/Orange-pi-5-max-a-powerful-successor-to-orange-pi-5-pro\",children:(0,e.jsx)(n.strong,{children:\"Orange Pi 5 MAX: A Powerful Successor to the Orange Pi 5 Pro\"})})}),`\n`]})]})}}var k=N;function h(r,i){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+r+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return v;})();\n;return Component;","toc":[{"value":"Components Used:","url":"#components-used","depth":4},{"value":"Installing the OS and Configurations","url":"#installing-the-os-and-configurations","depth":4},{"value":"Set Up OpenMediaVault and RAID 5","url":"#set-up-openmediavault-and-raid-5","depth":4},{"value":"Performance Testing","url":"#performance-testing","depth":4},{"value":"Power Consumption","url":"#power-consumption","depth":4},{"value":"Challenges and Solutions","url":"#challenges-and-solutions","depth":4},{"value":"Conclusion","url":"#conclusion","depth":4}],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.83,"time":229800,"words":766},"slug":"2025/create-diy-nas-with-raspberry-pi-compute-module-5-raid-5","fileName":"2025/create-diy-nas-with-raspberry-pi-compute-module-5-raid-5.md","title":"Create a Network-Attached Storage (NAS) with Raspberry Pi Compute Module 5 and NVMe to SATA Adapter","author":"Amrut Prabhu","categories":"","tags":["Raspberry Pi","CM5","Compute Module","Compute Module 5","open media vault","NAS","Raid 5"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2025-06-13T00:00:00.000Z","draft":false,"summary":"Build a DIY NAS using Raspberry Pi Compute Module 5, NVMe to SATA adapter, and OpenMediaVault with RAID 5.","imageUrl":"/static/images/2024/diy-nas-cm5/cover.webp","actualUrl":"2025/create-diy-nas-with-raspberry-pi-compute-module-5-raid-5","customUrl":"create-diy-nas-with-raspberry-pi-compute-module-5-raid-5","youtubeLink":"https://www.youtube.com/embed/5J-es6-DBU4"}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.045,"time":62700,"words":209},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"Radxa X4L: A Pocket-Sized Powerhouse","author":"Amrut Prabhu","categories":"","tags":["Radxa","SBC","Windows","Linux","Home Assistant","whisper","piper"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2025-05-05T00:00:00.000Z","draft":false,"summary":"A powerful pocket-sized PC featuring the Intel N100 processor, dual 32-bit LPDDR5 memory channels, and versatile OS support. Ideal for home automation, virtualization, and portable computing.","imageUrl":"/static/images/2024/radxa-x4l/cover.webp","actualUrl":"2025/radxa-x4l-a-powerful-pocket-sized-computer","customUrl":"radxa-x4l-a-powerful-pocket-sized-computer","youtubeLink":"https://www.youtube.com/embed/5ARf0nh62rU","slug":"radxa-x4l-a-powerful-pocket-sized-computer"},"next":null},"__N_SSG":true},"page":"/[slug]","query":{"slug":"create-diy-nas-with-raspberry-pi-compute-module-5-raid-5"},"buildId":"1baFIxvOySUHhi-AF_6QL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>