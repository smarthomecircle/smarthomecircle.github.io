<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');d.add('light');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>How To Setup Local Tuya With Home Assistant | Smart Home Circle</title><meta name="robots" content="follow, index"/><meta name="description" content="In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya."/><meta property="og:url" content="https://smarthomecircle.com/how-to-setup-local-tuya-in-home-assistant"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Smart Home Circle"/><meta property="og:description" content="In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya."/><meta property="og:title" content="How To Setup Local Tuya With Home Assistant"/><meta property="og:image" content="https://smarthomecircle.com/static/images/2023/local-tuya-setup-in-home-assistant/cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://twitter.com/smarthomecircle"/><meta name="twitter:title" content="How To Setup Local Tuya With Home Assistant"/><meta name="twitter:description" content="In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya."/><meta name="twitter:image" content="https://smarthomecircle.com/static/images/2023/local-tuya-setup-in-home-assistant/cover.jpg"/><meta property="article:published_time" content="2023-08-24T00:00:00.000Z"/><link rel="canonical" href="https://smarthomecircle.com/how-to-setup-local-tuya-in-home-assistant"/><meta name="next-head-count" content="19"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/icon.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7490174059724719" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/29b03b7fe0165f45.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/29b03b7fe0165f45.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2f837ca994ada7db.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-813e4218627b5a82.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-9948ba1951d3eeac.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/107-e07a1ed135387742.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/955-93aa8ca3db5092a0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-6bc1363e680b62b3.js" defer="" crossorigin=""></script><script src="/_next/static/0cXK3W5Wdqs6RmFFLZzJU/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/0cXK3W5Wdqs6RmFFLZzJU/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZs&skey=c491285d6722e4fa&v=v20) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuI6fMZs&skey=c491285d6722e4fa&v=v20) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuGKYMZs&skey=c491285d6722e4fa&v=v20) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZs&skey=c491285d6722e4fa&v=v20) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKxjPg&skey=48ad01c60053c2ae&v=v24) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8-qxjPg&skey=48ad01c60053c2ae&v=v24) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/l/font?kit=tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8FqtjPg&skey=48ad01c60053c2ae&v=v24) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx3cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxTcwgknk-6nFg.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxPcwgknk-6nFg.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx_cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx7cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxDcwgknk-4.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx3cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxTcwgknk-6nFg.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxPcwgknk-6nFg.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx_cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx7cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxDcwgknk-4.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx3cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxTcwgknk-6nFg.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxPcwgknk-6nFg.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx_cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPx7cwgknk-6nFg.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v24/tDbv2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yKwBNntkaToggR7BYRbKPxDcwgknk-4.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="antialiased text-gray-700 bg-white dark:bg-gray-900 dark:text-gray-300 font-sans"><div id="__next"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="flex flex-col justify-between h-screen"><header class="flex items-center justify-between py-10"><div><a aria-label="SmartHomeCircle" href="/"><div class="flex items-center"><div class="mr-3"><img alt="smart home circle" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" style="color:transparent" src="/static/favicons/icon.png"/></div><div class="text-2xl font-semibold sm:block">Smart Home Circle</div></div></a></div><div class="mt-6"></div><div class="flex items-center text-base leading-5"><div class="hidden sm:flex items-center"><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle" class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100">YouTube</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/posts">Posts</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About &amp; Contact</a><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu"><img alt="Buy Me A Coffee" loading="lazy" width="140" height="20" decoding="async" data-nimg="1" style="color:transparent" src="static/buymeacoffee.png"/></a></div><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="w-8 h-8 py-1 ml-1 mr-1 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed w-full h-full top-24 right-0 bg-gray-200 dark:bg-gray-800 opacity-95 z-10 transform ease-in-out duration-300 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed w-full h-full cursor-auto focus:outline-none"></button><nav class="fixed h-full mt-8"><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle" class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100">YouTube</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/posts">Posts</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About &amp; Contact</a></div><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://www.buymeacoffee.com/amrutprabhu"><img alt="Buy Me A Coffee" loading="lazy" width="140" height="20" decoding="async" data-nimg="1" style="color:transparent" src="static/buymeacoffee.png"/></a></div></nav></div></div></div></header><main class="mb-auto"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="fixed top-0 left-0 right-0 h-2 bg-gray-200 dark:bg-gray-800 z-50"><div class="h-full bg-gradient-to-r from-primary-500 to-primary-600 transition-all duration-150 ease-out" style="width:0%"></div></div><div class="fixed flex-col hidden gap-3 right-8 bottom-8 md:flex"><button aria-label="Scroll To Top" type="button" style="opacity:0" class="p-2 text-gray-500 transition-all bg-gray-200 rounded-full dark:text-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 hover:bg-gray-300"><svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><header class="relative"><div class="absolute inset-0 bg-gradient-to-br from-gray-50 via-white to-primary-50 dark:from-gray-900 dark:via-gray-900 dark:to-primary-900/20 -z-10"></div><div class="relative pt-12 pb-16"><div class="flex items-center justify-center mb-6"><a class="inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors" href="/"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Blog Article</a></div><div class="max-w-4xl mx-auto text-center space-y-6"><h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-gray-100 leading-tight">How To Setup Local Tuya With Home Assistant</h1><div class="flex flex-wrap items-center justify-center gap-6 text-sm text-gray-600 dark:text-gray-300"><div class="flex items-center"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><time dateTime="2023-08-24T00:00:00.000Z">Thursday, August 24, 2023</time></div><div class="flex items-center"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>6 min read</div></div></div><div class="max-w-5xl mx-auto mt-12"><div class="relative overflow-hidden rounded-2xl shadow-2xl"><div class="absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent z-10"></div><img alt="How To Setup Local Tuya With Home Assistant" loading="lazy" width="800" height="450" decoding="async" data-nimg="1" class="object-cover object-center w-full h-auto" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/cover.jpg"/></div></div></div></header><div class="max-w-6xl mx-auto px-4 py-16"><div class="lg:grid lg:grid-cols-12 lg:gap-8"><div class="lg:col-span-8"><div class="mb-12 p-6 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border border-gray-200 dark:border-gray-700"><h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-4">Written by</h3><div class="flex items-center space-x-4"><div class="flex items-center space-x-3"><img alt="Amrut Prabhu avatar" loading="lazy" width="48" height="48" decoding="async" data-nimg="1" class="w-12 h-12 rounded-full ring-2 ring-white dark:ring-gray-700" style="color:transparent" src="/static/images/avatar-small.jpg"/><div><div class="font-semibold text-gray-900 dark:text-gray-100">Amrut Prabhu</div><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/smarthomecircle" class="text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors">@smarthomecircle</a></div></div></div></div><div class="mb-12 space-y-8"><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Featured Video</h3><div class="relative w-full rounded-2xl overflow-hidden shadow-lg" style="padding-bottom:56.25%"><iframe id="youtubeLink12023-08-24T00:00:00.000Z" class="absolute top-0 left-0 w-full h-full" src="https://www.youtube.com/embed/wtzw_d4KMEQ" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" title="Featured video player"></iframe></div></div><div class="prose prose-lg dark:prose-dark max-w-none prose-headings:font-bold prose-headings:text-gray-900 dark:prose-headings:text-gray-100 prose-p:text-gray-700 dark:prose-p:text-gray-200 prose-strong:text-gray-900 dark:prose-strong:text-gray-100 prose-code:text-primary-600 dark:prose-code:text-primary-400 prose-pre:bg-gray-900 dark:prose-pre:bg-gray-800 prose-blockquote:border-primary-500 prose-blockquote:text-gray-700 dark:prose-blockquote:text-gray-300 prose-a:font-medium"><p>In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya.</p>
<details open=""><summary class="pt-2 pb-2 ml-6 text-xl font-bold">Table of Contents</summary><div class="ml-6"><ul><li class="false"><a href="#pre-requisites">Pre-Requisites</a></li><li class="false"><a href="#installing-local-tuya-integration-in-home-assistant">Installing Local Tuya Integration in Home Assistant</a></li><li class="false"><a href="#adding-device-to-home-assistant-using-local-tuya">Adding Device To Home Assistant using Local Tuya</a></li><li class="false"><a href="#finding-local-key-for-tuya-devices">Finding Local Key For Tuya Devices</a></li><li class="false"><a href="#adding-local-key-to-local-tuya-device">Adding Local Key to Local Tuya Device</a></li><li class="false"><a href="#verify-energy-consumption-values">Verify Energy Consumption Values</a></li></ul></div></details>
<h2 id="pre-requisites"><a href="#pre-requisites" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Pre-Requisites</h2>
<ol>
<li>You have <strong>Home Assistant OS</strong> or <strong>Home Assistant Container</strong> setup.</li>
</ol>
<p>You can check <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/connect-wifi-on-home-assistant-on-startup">this</a> article if you setting up Home Assistant OS for the first time or <a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/run-home-assistant-container-with-docker">this</a> article if you want to set up Home Assistant Container.</p>
<ol start="2">
<li>You have HACS Installed.</li>
</ol>
<p>If you have not installed it, here is a step-by-step guide to install it on Home Assistant OS and Home Assistant Docker container.</p>
<ol start="3">
<li>Any Tuya device. In this case, we will be using the Tuya Wifi Plug.</li>
</ol>
<p>You can buy it from this link:</p>
<ul>
<li><a target="_blank" rel="noopener noreferrer" href="https://amzn.to/3KKg32j">Tuya Wifi Plug</a>
<a target="_blank" rel="noopener noreferrer" href="https://amzn.to/3KKg32j"><img src="/static/images/2023/local-tuya-setup-in-home-assistant/tuya-smart-plug.jpg" alt="Zigbee Plug"/></a></li>
</ul>
<ol start="4">
<li>Tuya device setup with either Tuya app or Smart Life app.</li>
</ol>
<h2 id="installing-local-tuya-integration-in-home-assistant"><a href="#installing-local-tuya-integration-in-home-assistant" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Installing Local Tuya Integration in Home Assistant</h2>
<p>Once you have HACS installed, head over to the HACs interface, click on ‚ÄúExplore and Download Repository‚Äù and search for Local Tuya Integration.</p>
<div><img alt="1-hacs-local-tuya" loading="lazy" width="1694" height="842" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/1-hacs-local-tuya.webp"/></div>
<p>Once you find it, click on it and</p>
<p>Next, in Home Assistant UI, click on ‚ÄúSettings‚Äù in the left panel and then click on ‚ÄúDevices &amp; Services‚Äù, then click on ‚ÄúAdd integration‚Äù on the bottom right-hand corner.</p>
<p>Next, search for ‚ÄúZigbee Home Automation‚Äù and click on the ‚ÄúDownload‚Äù button, select the latest version, and click ‚ÄúOk‚Äù.</p>
<p>Once the repository gets downloaded you will have add the integration.</p>
<p>For this, go to ‚ÄúSettings‚Äù then ‚ÄúDevices &amp; Services‚Äù, click on ‚ÄúAdd Integration‚Äù and search for Local Tuya.</p>
<div><img alt="2-integration-local-tuya" loading="lazy" width="1600" height="688" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/2-integration-local-tuya.webp"/></div>
<p>Now, it will ask you for a Cloud API integration.</p>
<p>Since we are not going to integrate with the cloud, click the checkbox a the bottom ‚ÄúDo not configure Cloud API Account‚Äù</p>
<div><img alt="3-no-cloud-api-integration" loading="lazy" width="1792" height="466" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/3-no-cloud-api-integration.webp"/></div>
<p>With this, the Local Tuya Integration is ready for use.</p>
<h2 id="adding-device-to-home-assistant-using-local-tuya"><a href="#adding-device-to-home-assistant-using-local-tuya" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Adding Device To Home Assistant using Local Tuya</h2>
<p>Now, let‚Äôs consider you have your Tuya device connected to your Wifi network using the Smart Life app.</p>
<p>Next, make sure to connect the plug to a power outlet and then connect some device to it such that it&#x27;s consuming some energy. (It could be your phone charger actively charging your mobile phone).</p>
<p>We would be using the values of the energy consumption that shows up in the Smart Life app to properly configure the plug in Local Tuya.</p>
<p>With this done we will search for this plug which is connected to your Wifi network using the Local Tuya integration.</p>
<p>For this, we will open the Local Tuya Integration and click on ‚ÄúConfigure‚Äù and then select the action ‚ÄúAdd a new Device‚Äù.</p>
<div><img alt="4-add-local-tuya-device" loading="lazy" width="2092" height="1174" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/4-add-local-tuya-device.webp"/></div>
<p>Now, it will show you the device id of your Tuya device.</p>
<div><img alt="5-device-id-local-tuya" loading="lazy" width="1970" height="972" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/5-device-id-local-tuya.webp"/></div>
<p>You can verify the device id of your device by checking the ‚Äúdevice information‚Äù in the Smart Life app as shown above.</p>
<p>Next, we will have to fill in the local key.</p>
<div><img alt="6-empty-local-key" loading="lazy" width="1756" height="956" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/6-empty-local-key.webp"/></div>
<p>For this, we will have to create a Tuya developer account to find the Local key.</p>
<h2 id="finding-local-key-for-tuya-devices"><a href="#finding-local-key-for-tuya-devices" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Finding Local Key For Tuya Devices</h2>
<p>To find the Local key, you will have to create a Tuya developer account.</p>
<p>We will only need this account to find the Local Key and then we can delete the account.</p>
<p>For this, head to <a target="_blank" rel="noopener noreferrer" href="https://iot.tuya.com/">https://iot.tuya.com/</a> and create a developer account.</p>
<p>Once you have logged in, click on the ‚ÄúCloud‚Äù icon on the left menu bar and then click on ‚ÄúCreate Cloud Project‚Äù</p>
<p>Here, specify any project name, any industry, any development method, and then any data center that you wish.</p>
<p>Remember we won‚Äôt be needing this project after we find the Local keys.</p>
<div><img alt="7-cloud-project" loading="lazy" width="2660" height="1114" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/7-cloud-project.webp"/></div>
<p>Once the project is created, click on the ‚ÄúDevices‚Äù tab and then click on ‚ÄúLink Tuya app‚Äù.</p>
<div><img alt="8-link-app" loading="lazy" width="1662" height="688" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/8-link-app.webp"/></div>
<p>Now, scan the QR code using your Smart Life app, by selecting the add device option in the app and scan the QR code.</p>
<p>With this, the app is now linked to the cloud project.</p>
<p>Next, click on ‚ÄúCloud‚Äù on the left panel and select ‚ÄúAPI Explorer‚Äù</p>
<div><img alt="9-api-explorer" loading="lazy" width="1522" height="712" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/9-api-explorer.webp"/></div>
<p>This will open in a new tab.</p>
<p>Now, in this new tab, click on ‚ÄúDevice Management‚Äù in the left panel and then click on ‚ÄúQuery Device Details‚Äù, enter the device id of your tuya device, and click on ‚ÄúSubmit Request‚Äù</p>
<div><img alt="10-query-device" loading="lazy" width="1974" height="948" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/10-query-device.webp"/></div>
<p>This will show a response. You need to now use the Local Key in the response as shown below.</p>
<div><img alt="11-local-key" loading="lazy" width="2108" height="928" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/11-local-key.webp"/></div>
<h2 id="adding-local-key-to-local-tuya-device"><a href="#adding-local-key-to-local-tuya-device" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Adding Local Key to Local Tuya Device</h2>
<p>Once you have figured out the Local Key, add it to the Local Tuya setup.</p>
<div><img alt="12-configure-local-key" loading="lazy" width="1814" height="906" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/12-configure-local-key.webp"/></div>
<p>Now click next and here we will configure the Consumption value.</p>
<p>For this, open the power consumption section in the Smart Life app and check the current consumption values.</p>
<p>You will have to select the values that are close to the values in the drop. You can ignore the decimal points, but if the numbers match you can probably use the value.</p>
<div><img alt="13-select-voltage-values" loading="lazy" width="2000" height="1016" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/13-select-voltage-values.webp"/></div>
<p>For example, in the above image, the voltage value even though it shows, 232.1, you can select the number 2321.</p>
<p>Same thing you would have to do for the current and current consumption values.</p>
<p>Once you do that click on finish.</p>
<p>You should be able to see the plug now in Home Assistant.</p>
<div><img alt="14-switch-home-assistant" loading="lazy" width="1572" height="660" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/14-switch-home-assistant.webp"/></div>
<h2 id="verify-energy-consumption-values"><a href="#verify-energy-consumption-values" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Verify Energy Consumption Values</h2>
<p>To verify the energy consumption values are correct, click on the ‚ÄúDeveloper Tools‚Äù in Home Assistant and select the ‚ÄúStates‚Äù tab.</p>
<p>Now here filter the entities by the switch entity name you gave.</p>
<p>Now in the fouth column compare the values with the Smart Life app.</p>
<p>If they match, it&#x27;s all good.</p>
<p>But if they are not correct and don‚Äôt match that on the app, you will have to reconfigure the values.</p>
<p>For this, you can head over to the Local Tuya Integration again, Click on ‚ÄúConfigure‚Äù then this time select ‚ÄúEdit a device‚Äù</p>
<div><img alt="15-edit-device" loading="lazy" width="1468" height="808" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/15-edit-device.webp"/></div>
<p>Now, when you create the energy consumption value section, you will just have to try with a different value and see if it works.</p>
<p>Its a bit difficult to get it correct in the first go, so you might have to keep trying different values for sometime. üôÇ</p>
<p>Once you find the correct values, it should be all fine.</p>
<div><img alt="16-correct-consumption-values" loading="lazy" width="1536" height="976" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/2023/local-tuya-setup-in-home-assistant/16-correct-consumption-values.webp"/></div>
<p>If you are interested in more such Home Automation Setups and Ideas, you can read the following three articles</p>
<ul>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/esp32-cam-esphome-with-home-assistant"><strong>Setup ESP32 CAM With ESP Home and Home Assistant</strong></a></li>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/add-matter-devices-to-home-assistant"><strong>Adding a Matter Device to Home Assistant</strong></a></li>
<li><a target="_blank" rel="noopener noreferrer" href="https://smarthomecircle.com/air-quality-sensor-and-light-sensor-esp32-home-assistant"><strong>Build Air Quality Monitor With Light Sensor For Home Assistant</strong></a></li>
</ul><div class="not-prose mt-8 pt-6 border-t border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-800/30 rounded-lg"><h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 flex-shrink-0">Share this article:</h3><div class="flex flex-wrap gap-2"><button type="button" class="text-white bg-[#3b5998] hover:bg-[#3b5998]/90 font-medium rounded-md text-xs px-3 py-1.5 inline-flex items-center transition-colors" title="Share on Facebook"><svg class="w-3 h-3 mr-1.5" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></svg>Share</button><button type="button" class="text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 font-medium rounded-md text-xs px-3 py-1.5 inline-flex items-center transition-colors" title="Share on Twitter"><svg class="w-3 h-3 mr-1.5" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></svg>Tweet</button><button type="button" class="text-white bg-[#0077B5] hover:bg-[#00A0DC]/90 font-medium rounded-md text-xs px-3 py-1.5 inline-flex items-center transition-colors" title="Share on LinkedIn"><svg class="w-3 h-3 mr-1.5" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></svg>Post</button><button type="button" class="text-white bg-gray-600 hover:bg-gray-700 font-medium rounded-md text-xs px-3 py-1.5 inline-flex items-center transition-colors" title="Share via Email"><svg class="w-3 h-3 mr-1.5" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="email" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></svg>Email</button></div></div></div></div></div><div class="lg:col-span-4 mt-12 lg:mt-0"><div class="space-y-8"><div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700"><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">Tags</h3><div class="flex flex-wrap gap-2"><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/tuya">Tuya</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/local-tuya">Local Tuya</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/smart-wifi-plug">Smart Wifi Plug</a><a class="m-1 p-1 px-2 leading-4 h-6 rounded text-xs uppercase text-white font-bold bg-teal-500 hover:bg-teal-400 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/home-assistant">Home Assistant</a></div></div><div class="bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 rounded-2xl p-6 border border-primary-200 dark:border-primary-800"><a class="flex items-center text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-semibold transition-colors group" href="/"><svg class="w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>Back to Articles</a></div></div></div></div></div></article></div></main><footer><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:contactsmarthomecircle@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/@SmartHomeCircle"><span class="sr-only">youtube</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.499 6.203a3.008 3.008 0 0 0-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 0 0-2.088 2.09A31.258 31.26 0 0 0 0 12.01a31.258 31.26 0 0 0 .523 5.785 3.008 3.008 0 0 0 2.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 0 0 2.089-2.09 31.258 31.26 0 0 0 .5-5.784 31.258 31.26 0 0 0-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/smarthomecircle"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://bsky.app/profile/smarthomecircle.com"><span class="sr-only">blueSky</span><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"></path></svg></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Amrut Prabhu</div><div> ‚Ä¢ </div><div>¬© 2026</div><div> ‚Ä¢ </div><a href="/">Smart Home Circle</a><div> ‚Ä¢ </div><a href="/privacy">Privacy Policy</a></div><br/></div></footer></div></div><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div id="cookie-notice" class="consent_consentname__W_12w"><br/><br/><p>By clicking ‚ÄúI Accept‚Äù, you agree to the storing of cookies on your device to enhance site navigation and analyze site usage</p><br/><br/><div><a id="cookie-notice-accept" class="consent_greenButton__rKcAp">I Accept</a><a href="/privacy">Privacy Policy</a></div><br/><br/><br/></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var u=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var s=i=\u003ec(i,\"__esModule\",{value:!0});var w=(i,n)=\u003e()=\u003e(n||i((n={exports:{}}).exports,n),n.exports),v=(i,n)=\u003e{s(i);for(var o in n)c(i,o,{get:n[o],enumerable:!0})},f=(i,n,o)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let t of m(n))!g.call(i,t)\u0026\u0026t!==\"default\"\u0026\u0026c(i,t,{get:()=\u003en[t],enumerable:!(o=p(n,t))||o.enumerable});return i},b=i=\u003ef(s(c(i!=null?u(y(i)):{},\"default\",i\u0026\u0026i.__esModule\u0026\u0026\"default\"in i?{get:()=\u003ei.default,enumerable:!0}:{value:i,enumerable:!0})),i);var r=w((x,h)=\u003e{h.exports=_jsx_runtime});var L={};v(L,{default:()=\u003eA,frontmatter:()=\u003ek});var e=b(r()),k={title:\"How To Setup Local Tuya With Home Assistant\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Tuya\",\"Local Tuya\",\"Smart Wifi Plug\",\"Home Assistant\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2023-08-24\",draft:!1,autoAds:!0,summary:\"In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya.\",imageUrl:\"/static/images/2023/local-tuya-setup-in-home-assistant/cover.jpg\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\",youtubeLink:\"https://www.youtube.com/embed/wtzw_d4KMEQ\"};function T(i={}){let{wrapper:n}=i.components||{};return n?(0,e.jsx)(n,Object.assign({},i,{children:(0,e.jsx)(o,{})})):o();function o(){let t=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",strong:\"strong\",ul:\"ul\",img:\"img\",div:\"div\"},i.components),{TOCInline:l,Image:a}=t;return a||d(\"Image\",!0),l||d(\"TOCInline\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.p,{children:\"In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya.\"}),`\n`,(0,e.jsx)(l,{toc:i.toc,asDisclosure:!0}),`\n`,(0,e.jsxs)(t.h2,{id:\"pre-requisites\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#pre-requisites\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Pre-Requisites\"]}),`\n`,(0,e.jsxs)(t.ol,{children:[`\n`,(0,e.jsxs)(t.li,{children:[\"You have \",(0,e.jsx)(t.strong,{children:\"Home Assistant OS\"}),\" or \",(0,e.jsx)(t.strong,{children:\"Home Assistant Container\"}),\" setup.\"]}),`\n`]}),`\n`,(0,e.jsxs)(t.p,{children:[\"You can check \",(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/connect-wifi-on-home-assistant-on-startup\",children:\"this\"}),\" article if you setting up Home Assistant OS for the first time or \",(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/run-home-assistant-container-with-docker\",children:\"this\"}),\" article if you want to set up Home Assistant Container.\"]}),`\n`,(0,e.jsxs)(t.ol,{start:\"2\",children:[`\n`,(0,e.jsx)(t.li,{children:\"You have HACS Installed.\"}),`\n`]}),`\n`,(0,e.jsx)(t.p,{children:\"If you have not installed it, here is a step-by-step guide to install it on Home Assistant OS and Home Assistant Docker container.\"}),`\n`,(0,e.jsxs)(t.ol,{start:\"3\",children:[`\n`,(0,e.jsx)(t.li,{children:\"Any Tuya device. In this case, we will be using the Tuya Wifi Plug.\"}),`\n`]}),`\n`,(0,e.jsx)(t.p,{children:\"You can buy it from this link:\"}),`\n`,(0,e.jsxs)(t.ul,{children:[`\n`,(0,e.jsxs)(t.li,{children:[(0,e.jsx)(t.a,{href:\"https://amzn.to/3KKg32j\",children:\"Tuya Wifi Plug\"}),`\n`,(0,e.jsx)(t.a,{href:\"https://amzn.to/3KKg32j\",children:(0,e.jsx)(t.img,{src:\"/static/images/2023/local-tuya-setup-in-home-assistant/tuya-smart-plug.jpg\",alt:\"Zigbee Plug\"})})]}),`\n`]}),`\n`,(0,e.jsxs)(t.ol,{start:\"4\",children:[`\n`,(0,e.jsx)(t.li,{children:\"Tuya device setup with either Tuya app or Smart Life app.\"}),`\n`]}),`\n`,(0,e.jsxs)(t.h2,{id:\"installing-local-tuya-integration-in-home-assistant\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#installing-local-tuya-integration-in-home-assistant\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Installing Local Tuya Integration in Home Assistant\"]}),`\n`,(0,e.jsx)(t.p,{children:\"Once you have HACS installed, head over to the HACs interface, click on \\u201CExplore and Download Repository\\u201D and search for Local Tuya Integration.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"1-hacs-local-tuya\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/1-hacs-local-tuya.webp\",width:\"1694\",height:\"842\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Once you find it, click on it and\"}),`\n`,(0,e.jsx)(t.p,{children:\"Next, in Home Assistant UI, click on \\u201CSettings\\u201D in the left panel and then click on \\u201CDevices \u0026 Services\\u201D, then click on \\u201CAdd integration\\u201D on the bottom right-hand corner.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Next, search for \\u201CZigbee Home Automation\\u201D and click on the \\u201CDownload\\u201D button, select the latest version, and click \\u201COk\\u201D.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Once the repository gets downloaded you will have add the integration.\"}),`\n`,(0,e.jsx)(t.p,{children:\"For this, go to \\u201CSettings\\u201D then \\u201CDevices \u0026 Services\\u201D, click on \\u201CAdd Integration\\u201D and search for Local Tuya.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"2-integration-local-tuya\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/2-integration-local-tuya.webp\",width:\"1600\",height:\"688\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Now, it will ask you for a Cloud API integration.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Since we are not going to integrate with the cloud, click the checkbox a the bottom \\u201CDo not configure Cloud API Account\\u201D\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"3-no-cloud-api-integration\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/3-no-cloud-api-integration.webp\",width:\"1792\",height:\"466\"})}),`\n`,(0,e.jsx)(t.p,{children:\"With this, the Local Tuya Integration is ready for use.\"}),`\n`,(0,e.jsxs)(t.h2,{id:\"adding-device-to-home-assistant-using-local-tuya\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#adding-device-to-home-assistant-using-local-tuya\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Adding Device To Home Assistant using Local Tuya\"]}),`\n`,(0,e.jsx)(t.p,{children:\"Now, let\\u2019s consider you have your Tuya device connected to your Wifi network using the Smart Life app.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Next, make sure to connect the plug to a power outlet and then connect some device to it such that it's consuming some energy. (It could be your phone charger actively charging your mobile phone).\"}),`\n`,(0,e.jsx)(t.p,{children:\"We would be using the values of the energy consumption that shows up in the Smart Life app to properly configure the plug in Local Tuya.\"}),`\n`,(0,e.jsx)(t.p,{children:\"With this done we will search for this plug which is connected to your Wifi network using the Local Tuya integration.\"}),`\n`,(0,e.jsx)(t.p,{children:\"For this, we will open the Local Tuya Integration and click on \\u201CConfigure\\u201D and then select the action \\u201CAdd a new Device\\u201D.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"4-add-local-tuya-device\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/4-add-local-tuya-device.webp\",width:\"2092\",height:\"1174\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Now, it will show you the device id of your Tuya device.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"5-device-id-local-tuya\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/5-device-id-local-tuya.webp\",width:\"1970\",height:\"972\"})}),`\n`,(0,e.jsx)(t.p,{children:\"You can verify the device id of your device by checking the \\u201Cdevice information\\u201D in the Smart Life app as shown above.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Next, we will have to fill in the local key.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"6-empty-local-key\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/6-empty-local-key.webp\",width:\"1756\",height:\"956\"})}),`\n`,(0,e.jsx)(t.p,{children:\"For this, we will have to create a Tuya developer account to find the Local key.\"}),`\n`,(0,e.jsxs)(t.h2,{id:\"finding-local-key-for-tuya-devices\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#finding-local-key-for-tuya-devices\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Finding Local Key For Tuya Devices\"]}),`\n`,(0,e.jsx)(t.p,{children:\"To find the Local key, you will have to create a Tuya developer account.\"}),`\n`,(0,e.jsx)(t.p,{children:\"We will only need this account to find the Local Key and then we can delete the account.\"}),`\n`,(0,e.jsxs)(t.p,{children:[\"For this, head to \",(0,e.jsx)(t.a,{href:\"https://iot.tuya.com/\",children:\"https://iot.tuya.com/\"}),\" and create a developer account.\"]}),`\n`,(0,e.jsx)(t.p,{children:\"Once you have logged in, click on the \\u201CCloud\\u201D icon on the left menu bar and then click on \\u201CCreate Cloud Project\\u201D\"}),`\n`,(0,e.jsx)(t.p,{children:\"Here, specify any project name, any industry, any development method, and then any data center that you wish.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Remember we won\\u2019t be needing this project after we find the Local keys.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"7-cloud-project\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/7-cloud-project.webp\",width:\"2660\",height:\"1114\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Once the project is created, click on the \\u201CDevices\\u201D tab and then click on \\u201CLink Tuya app\\u201D.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"8-link-app\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/8-link-app.webp\",width:\"1662\",height:\"688\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Now, scan the QR code using your Smart Life app, by selecting the add device option in the app and scan the QR code.\"}),`\n`,(0,e.jsx)(t.p,{children:\"With this, the app is now linked to the cloud project.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Next, click on \\u201CCloud\\u201D on the left panel and select \\u201CAPI Explorer\\u201D\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"9-api-explorer\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/9-api-explorer.webp\",width:\"1522\",height:\"712\"})}),`\n`,(0,e.jsx)(t.p,{children:\"This will open in a new tab.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Now, in this new tab, click on \\u201CDevice Management\\u201D in the left panel and then click on \\u201CQuery Device Details\\u201D, enter the device id of your tuya device, and click on \\u201CSubmit Request\\u201D\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"10-query-device\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/10-query-device.webp\",width:\"1974\",height:\"948\"})}),`\n`,(0,e.jsx)(t.p,{children:\"This will show a response. You need to now use the Local Key in the response as shown below.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"11-local-key\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/11-local-key.webp\",width:\"2108\",height:\"928\"})}),`\n`,(0,e.jsxs)(t.h2,{id:\"adding-local-key-to-local-tuya-device\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#adding-local-key-to-local-tuya-device\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Adding Local Key to Local Tuya Device\"]}),`\n`,(0,e.jsx)(t.p,{children:\"Once you have figured out the Local Key, add it to the Local Tuya setup.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"12-configure-local-key\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/12-configure-local-key.webp\",width:\"1814\",height:\"906\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Now click next and here we will configure the Consumption value.\"}),`\n`,(0,e.jsx)(t.p,{children:\"For this, open the power consumption section in the Smart Life app and check the current consumption values.\"}),`\n`,(0,e.jsx)(t.p,{children:\"You will have to select the values that are close to the values in the drop. You can ignore the decimal points, but if the numbers match you can probably use the value.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"13-select-voltage-values\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/13-select-voltage-values.webp\",width:\"2000\",height:\"1016\"})}),`\n`,(0,e.jsx)(t.p,{children:\"For example, in the above image, the voltage value even though it shows, 232.1, you can select the number 2321.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Same thing you would have to do for the current and current consumption values.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Once you do that click on finish.\"}),`\n`,(0,e.jsx)(t.p,{children:\"You should be able to see the plug now in Home Assistant.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"14-switch-home-assistant\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/14-switch-home-assistant.webp\",width:\"1572\",height:\"660\"})}),`\n`,(0,e.jsxs)(t.h2,{id:\"verify-energy-consumption-values\",children:[(0,e.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#verify-energy-consumption-values\",children:(0,e.jsx)(t.span,{className:\"icon icon-link\"})}),\"Verify Energy Consumption Values\"]}),`\n`,(0,e.jsx)(t.p,{children:\"To verify the energy consumption values are correct, click on the \\u201CDeveloper Tools\\u201D in Home Assistant and select the \\u201CStates\\u201D tab.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Now here filter the entities by the switch entity name you gave.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Now in the fouth column compare the values with the Smart Life app.\"}),`\n`,(0,e.jsx)(t.p,{children:\"If they match, it's all good.\"}),`\n`,(0,e.jsx)(t.p,{children:\"But if they are not correct and don\\u2019t match that on the app, you will have to reconfigure the values.\"}),`\n`,(0,e.jsx)(t.p,{children:\"For this, you can head over to the Local Tuya Integration again, Click on \\u201CConfigure\\u201D then this time select \\u201CEdit a device\\u201D\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"15-edit-device\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/15-edit-device.webp\",width:\"1468\",height:\"808\"})}),`\n`,(0,e.jsx)(t.p,{children:\"Now, when you create the energy consumption value section, you will just have to try with a different value and see if it works.\"}),`\n`,(0,e.jsx)(t.p,{children:\"Its a bit difficult to get it correct in the first go, so you might have to keep trying different values for sometime. \\u{1F642}\"}),`\n`,(0,e.jsx)(t.p,{children:\"Once you find the correct values, it should be all fine.\"}),`\n`,(0,e.jsx)(t.div,{children:(0,e.jsx)(a,{alt:\"16-correct-consumption-values\",src:\"/static/images/2023/local-tuya-setup-in-home-assistant/16-correct-consumption-values.webp\",width:\"1536\",height:\"976\"})}),`\n`,(0,e.jsx)(t.p,{children:\"If you are interested in more such Home Automation Setups and Ideas, you can read the following three articles\"}),`\n`,(0,e.jsxs)(t.ul,{children:[`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/esp32-cam-esphome-with-home-assistant\",children:(0,e.jsx)(t.strong,{children:\"Setup ESP32 CAM With ESP Home and Home Assistant\"})})}),`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/add-matter-devices-to-home-assistant\",children:(0,e.jsx)(t.strong,{children:\"Adding a Matter Device to Home Assistant\"})})}),`\n`,(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:\"https://smarthomecircle.com/air-quality-sensor-and-light-sensor-esp32-home-assistant\",children:(0,e.jsx)(t.strong,{children:\"Build Air Quality Monitor With Light Sensor For Home Assistant\"})})}),`\n`]})]})}}var A=T;function d(i,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+i+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return L;})();\n;return Component;","toc":[{"value":"Pre-Requisites","url":"#pre-requisites","depth":2},{"value":"Installing Local Tuya Integration in Home Assistant","url":"#installing-local-tuya-integration-in-home-assistant","depth":2},{"value":"Adding Device To Home Assistant using Local Tuya","url":"#adding-device-to-home-assistant-using-local-tuya","depth":2},{"value":"Finding Local Key For Tuya Devices","url":"#finding-local-key-for-tuya-devices","depth":2},{"value":"Adding Local Key to Local Tuya Device","url":"#adding-local-key-to-local-tuya-device","depth":2},{"value":"Verify Energy Consumption Values","url":"#verify-energy-consumption-values","depth":2}],"frontMatter":{"readingTime":{"text":"6 min read","minutes":5.62,"time":337200,"words":1124},"slug":"2023/how-to-setup-local-tuya-in-home-assistant","fileName":"2023/how-to-setup-local-tuya-in-home-assistant.md","title":"How To Setup Local Tuya With Home Assistant","author":"Amrut Prabhu","categories":"","tags":["Tuya","Local Tuya","Smart Wifi Plug","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-24T00:00:00.000Z","draft":false,"autoAds":true,"summary":"In this article, we will be looking at how we control Tuya Devices Locally using Local Tuya.","imageUrl":"/static/images/2023/local-tuya-setup-in-home-assistant/cover.jpg","actualUrl":"2023/how-to-setup-local-tuya-in-home-assistant","customUrl":"how-to-setup-local-tuya-in-home-assistant","youtubeLink":"https://www.youtube.com/embed/wtzw_d4KMEQ"}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.01,"time":60600,"words":202},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"","company":"","email":"contactsmarthomecircle@gmail.com","twitter":"https://twitter.com/smarthomecircle","linkedin":"","github":"","youtube":"https://www.youtube.com/@SmartHomeCircle","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"Connect Zigbee Plug Using Sonoff Zigbee 3.0 USB Dongle Plus To Home Assistant - Step By Step Guide","author":"Amrut Prabhu","categories":"","tags":["Zigbee","Sonoff Dongle Plus","Home Assistant"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-08-17T00:00:00.000Z","draft":false,"autoAds":true,"summary":"In this article, we will be looking at how we can connect Zigbee Devices using Sonoff Zigbee 3.0 USB Dongle Plus to Home Assistant.","imageUrl":"/static/images/2023/sonoff-zigbee-3-dongle-home-assistant/cover.webp","actualUrl":"2023/connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","customUrl":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant","youtubeLink":"https://www.youtube.com/embed/DynzcuwaY7s","slug":"connect-zigbee-device-using-sonoff-zigbee-3-dongle-plus-to-home-assistant"},"next":{"title":"How I Setup MQTT Broker Docker Container Or Addon In Home Assistant‚Ää‚Äî‚ÄäStep-By-Step Guide","author":"Amrut Prabhu","categories":"","tags":["MQTT","Home Assistant","Docker"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2023-09-07T00:00:00.000Z","draft":false,"autoAds":true,"summary":"In this article, we will be looking at how we configure Frigate to detect object and then connect it to Home Assistant to receive notification.","imageUrl":"/static/images/2023/mqtt-broker-setup/cover.jpg","actualUrl":"2023/how-to-setup-mqtt-docker-container-with-home-assistant","customUrl":"how-to-setup-mqtt-docker-container-with-home-assistant","youtubeLink":"","slug":"how-to-setup-mqtt-docker-container-with-home-assistant"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"how-to-setup-local-tuya-in-home-assistant"},"buildId":"0cXK3W5Wdqs6RmFFLZzJU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>